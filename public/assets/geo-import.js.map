{
  "version": 3,
  "sources": ["../../src/ui/client/geoImport/index.js"],
  "sourcesContent": ["(function() {\r\n  'use strict';\r\n  \r\n  // DOM references\r\n  const dashboard = document.querySelector('.geo-import-dashboard');\r\n  const progressRing = document.querySelector('.progress-ring-circle');\r\n  const progressText = document.querySelector('.progress-ring-text');\r\n  const progressStat = document.querySelector('.progress-stat');\r\n  const progressPhase = document.querySelector('.progress-phase');\r\n  const logBody = document.querySelector('.log-body');\r\n  const startBtn = document.querySelector('[data-action=\"start-import\"]');\r\n  const pauseBtn = document.querySelector('[data-action=\"pause-import\"]');\r\n  const cancelBtn = document.querySelector('[data-action=\"cancel-import\"]');\r\n  \r\n  // Connection status indicator\r\n  const statusEl = document.createElement('div');\r\n  statusEl.className = 'connection-status disconnected';\r\n  statusEl.textContent = '\u26A1 Connecting...';\r\n  document.body.appendChild(statusEl);\r\n  \r\n  // State\r\n  let currentState = null;\r\n  let eventSource = null;\r\n  \r\n  // Metrics tracking\r\n  let metricsHistory = [];\r\n  let stageTimes = {};\r\n  let lastProgressUpdate = Date.now();\r\n  let recordsPerSecond = 0;\r\n  \r\n  // Toast container\r\n  const toastContainer = document.createElement('div');\r\n  toastContainer.className = 'toast-container';\r\n  document.body.appendChild(toastContainer);\r\n  \r\n  // \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\r\n  // SSE Connection\r\n  // \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\r\n  \r\n  function connectSSE() {\r\n    eventSource = new EventSource('/api/geo-import/events');\r\n    \r\n    eventSource.onopen = () => {\r\n      statusEl.className = 'connection-status connected';\r\n      statusEl.textContent = '\uD83D\uDFE2 Connected';\r\n      console.log('[GeoImport] SSE connected');\r\n    };\r\n    \r\n    eventSource.onerror = (err) => {\r\n      statusEl.className = 'connection-status disconnected';\r\n      statusEl.textContent = '\uD83D\uDD34 Disconnected';\r\n      console.error('[GeoImport] SSE error:', err);\r\n      \r\n      // Reconnect after delay\r\n      setTimeout(connectSSE, 3000);\r\n    };\r\n    \r\n    // Initial state\r\n    eventSource.addEventListener('init', (e) => {\r\n      const data = JSON.parse(e.data);\r\n      currentState = data.state;\r\n      updateUI(currentState);\r\n      console.log('[GeoImport] Initial state:', currentState);\r\n    });\r\n    \r\n    // Progress updates\r\n    eventSource.addEventListener('progress', (e) => {\r\n      const data = JSON.parse(e.data);\r\n      currentState = data.state;\r\n      updateProgress(currentState);\r\n    });\r\n    \r\n    // Stage changes\r\n    eventSource.addEventListener('stage-change', (e) => {\r\n      const data = JSON.parse(e.data);\r\n      currentState = data.state;\r\n      updateUI(currentState);\r\n    });\r\n    \r\n    // Log entries\r\n    eventSource.addEventListener('log', (e) => {\r\n      const data = JSON.parse(e.data);\r\n      appendLog(data.entry);\r\n    });\r\n    \r\n    // State changes\r\n    eventSource.addEventListener('state-change', (e) => {\r\n      const data = JSON.parse(e.data);\r\n      currentState = data.state;\r\n      updateUI(currentState);\r\n    });\r\n  }\r\n  \r\n  // \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\r\n  // UI Updates\r\n  // \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\r\n  \r\n  function updateUI(state) {\r\n    updateProgress(state);\r\n    updateStagesStepper(state);\r\n    updateButtons(state);\r\n    updateSourceCards(state);\r\n  }\r\n  \r\n  function updateStagesStepper(state) {\r\n    const stepper = document.querySelector('.stages-stepper');\r\n    if (!stepper) return;\r\n    \r\n    const currentStageId = state.status || state.stage?.id || 'idle';\r\n    const prevStageId = stepper.getAttribute('data-current-stage');\r\n    stepper.setAttribute('data-current-stage', currentStageId);\r\n    \r\n    // Track stage timing\r\n    const now = Date.now();\r\n    if (currentStageId !== prevStageId) {\r\n      // Stage changed - record duration of previous stage\r\n      if (prevStageId && stageTimes[prevStageId]?.start) {\r\n        stageTimes[prevStageId].end = now;\r\n        stageTimes[prevStageId].duration = now - stageTimes[prevStageId].start;\r\n      }\r\n      // Start timing new stage\r\n      stageTimes[currentStageId] = { start: now };\r\n      \r\n      // Show toast notification for stage change\r\n      if (currentStageId !== 'idle') {\r\n        showToast(getStageEmoji(currentStageId) + ' ' + getStageLabel(currentStageId), 'info');\r\n      }\r\n      if (currentStageId === 'complete') {\r\n        showToast('\uD83C\uDF89 Import completed successfully!', 'success');\r\n        playCompletionSound();\r\n      }\r\n    }\r\n    \r\n    const stages = stepper.querySelectorAll('.stage-item');\r\n    const stageIds = ['idle', 'validating', 'counting', 'preparing', 'importing', 'indexing', 'verifying', 'complete'];\r\n    const currentIndex = stageIds.indexOf(currentStageId);\r\n    \r\n    stages.forEach((stageEl, index) => {\r\n      const stageId = stageIds[index];\r\n      stageEl.classList.remove('stage-completed', 'stage-current', 'stage-pending');\r\n      \r\n      const connector = stageEl.querySelector('.stage-connector');\r\n      if (connector) {\r\n        connector.classList.remove('connector-completed');\r\n      }\r\n      \r\n      if (index < currentIndex) {\r\n        stageEl.classList.add('stage-completed');\r\n        if (connector) connector.classList.add('connector-completed');\r\n        \r\n        // Add duration badge for completed stages\r\n        addStageDuration(stageEl, stageId);\r\n      } else if (index === currentIndex) {\r\n        stageEl.classList.add('stage-current');\r\n        // Show live duration for current stage\r\n        updateLiveStageDuration(stageEl, stageId);\r\n      } else {\r\n        stageEl.classList.add('stage-pending');\r\n      }\r\n    });\r\n  }\r\n  \r\n  function addStageDuration(stageEl, stageId) {\r\n    let durationEl = stageEl.querySelector('.stage-duration');\r\n    if (!durationEl) {\r\n      durationEl = document.createElement('div');\r\n      durationEl.className = 'stage-duration';\r\n      stageEl.appendChild(durationEl);\r\n    }\r\n    \r\n    const timing = stageTimes[stageId];\r\n    if (timing?.duration) {\r\n      durationEl.textContent = formatDuration(Math.floor(timing.duration / 1000));\r\n    }\r\n  }\r\n  \r\n  function updateLiveStageDuration(stageEl, stageId) {\r\n    let durationEl = stageEl.querySelector('.stage-duration');\r\n    if (!durationEl) {\r\n      durationEl = document.createElement('div');\r\n      durationEl.className = 'stage-duration';\r\n      stageEl.appendChild(durationEl);\r\n    }\r\n    \r\n    const timing = stageTimes[stageId];\r\n    if (timing?.start) {\r\n      const elapsed = Math.floor((Date.now() - timing.start) / 1000);\r\n      durationEl.textContent = formatDuration(elapsed) + '...';\r\n    }\r\n  }\r\n  \r\n  function getStageEmoji(stageId) {\r\n    const emojis = {\r\n      'idle': '\u23F8\uFE0F', 'validating': '\uD83D\uDD0D', 'counting': '\uD83D\uDCCA', 'preparing': '\u2699\uFE0F',\r\n      'importing': '\uD83D\uDCBE', 'indexing': '\uD83D\uDDC2\uFE0F', 'verifying': '\u2705', 'complete': '\uD83C\uDF89'\r\n    };\r\n    return emojis[stageId] || '\u2022';\r\n  }\r\n  \r\n  function getStageLabel(stageId) {\r\n    const labels = {\r\n      'idle': 'Ready', 'validating': 'Validating files...', 'counting': 'Counting records...',\r\n      'preparing': 'Preparing database...', 'importing': 'Importing records...',\r\n      'indexing': 'Building indexes...', 'verifying': 'Verifying data...', 'complete': 'Complete'\r\n    };\r\n    return labels[stageId] || stageId;\r\n  }\r\n  \r\n  function updateProgress(state) {\r\n    const { progress, stage } = state;\r\n    const percent = progress.percent || 0;\r\n    const now = Date.now();\r\n    \r\n    // Calculate speed (records per second)\r\n    if (progress.current > 0) {\r\n      const timeDiff = (now - lastProgressUpdate) / 1000;\r\n      if (timeDiff > 0 && metricsHistory.length > 0) {\r\n        const lastProgress = metricsHistory[metricsHistory.length - 1];\r\n        const recordsDiff = progress.current - lastProgress.current;\r\n        if (recordsDiff > 0) {\r\n          recordsPerSecond = Math.round(recordsDiff / timeDiff);\r\n        }\r\n      }\r\n      metricsHistory.push({ current: progress.current, time: now });\r\n      // Keep only last 10 entries\r\n      if (metricsHistory.length > 10) metricsHistory.shift();\r\n      lastProgressUpdate = now;\r\n    }\r\n    \r\n    // Calculate ETA\r\n    const remaining = (progress.total || 0) - (progress.current || 0);\r\n    const etaSeconds = recordsPerSecond > 0 ? Math.ceil(remaining / recordsPerSecond) : 0;\r\n    const etaFormatted = formatDuration(etaSeconds);\r\n    \r\n    // Update ring\r\n    if (progressRing) {\r\n      const radius = progressRing.r.baseVal.value;\r\n      const circumference = 2 * Math.PI * radius;\r\n      const offset = circumference - (percent / 100) * circumference;\r\n      progressRing.style.strokeDashoffset = offset;\r\n    }\r\n    \r\n    // Update text\r\n    if (progressText) {\r\n      progressText.textContent = percent + '%';\r\n    }\r\n    \r\n    // Update stats with animation\r\n    if (progressStat) {\r\n      progressStat.innerHTML = \r\n        '<span class=\"stat-value counting\">' + formatNumber(progress.current) + '</span> / ' +\r\n        '<span class=\"stat-total\">' + formatNumber(progress.total) + '</span> records';\r\n    }\r\n    \r\n    // Update phase\r\n    if (progressPhase && stage) {\r\n      progressPhase.textContent = stage.emoji + ' ' + stage.description;\r\n    }\r\n    \r\n    // Update metrics (ETA & Speed)\r\n    updateMetrics(etaFormatted, recordsPerSecond, state.elapsed);\r\n  }\r\n  \r\n  function updateMetrics(eta, speed, elapsed) {\r\n    let metricsEl = document.querySelector('.progress-metrics');\r\n    if (!metricsEl) {\r\n      // Create metrics section if it doesn't exist\r\n      metricsEl = document.createElement('div');\r\n      metricsEl.className = 'progress-metrics';\r\n      metricsEl.innerHTML = \r\n        '<div class=\"metric-item\">' +\r\n          '<span class=\"metric-value speed\" data-metric=\"speed\">0</span>' +\r\n          '<span class=\"metric-label\">Records/sec</span>' +\r\n        '</div>' +\r\n        '<div class=\"metric-item\">' +\r\n          '<span class=\"metric-value eta\" data-metric=\"eta\">--:--</span>' +\r\n          '<span class=\"metric-label\">ETA</span>' +\r\n        '</div>' +\r\n        '<div class=\"metric-item\">' +\r\n          '<span class=\"metric-value\" data-metric=\"elapsed\">00:00</span>' +\r\n          '<span class=\"metric-label\">Elapsed</span>' +\r\n        '</div>';\r\n      const progressStats = document.querySelector('.progress-stats');\r\n      if (progressStats) progressStats.appendChild(metricsEl);\r\n    }\r\n    \r\n    const speedEl = metricsEl.querySelector('[data-metric=\"speed\"]');\r\n    const etaEl = metricsEl.querySelector('[data-metric=\"eta\"]');\r\n    const elapsedEl = metricsEl.querySelector('[data-metric=\"elapsed\"]');\r\n    \r\n    if (speedEl) speedEl.textContent = formatNumber(speed);\r\n    if (etaEl) etaEl.textContent = eta || '--:--';\r\n    if (elapsedEl) elapsedEl.textContent = formatDuration(Math.floor((elapsed || 0) / 1000));\r\n  }\r\n  \r\n  function formatDuration(totalSeconds) {\r\n    if (!totalSeconds || totalSeconds < 0) return '--:--';\r\n    const hours = Math.floor(totalSeconds / 3600);\r\n    const minutes = Math.floor((totalSeconds % 3600) / 60);\r\n    const seconds = totalSeconds % 60;\r\n    if (hours > 0) {\r\n      return hours + ':' + String(minutes).padStart(2, '0') + ':' + String(seconds).padStart(2, '0');\r\n    }\r\n    return String(minutes).padStart(2, '0') + ':' + String(seconds).padStart(2, '0');\r\n  }\r\n  \r\n  function updateButtons(state) {\r\n    const { status } = state;\r\n    const isRunning = ['validating', 'counting', 'preparing', 'importing', 'indexing', 'verifying'].includes(status);\r\n    const isPaused = status === 'paused';\r\n    \r\n    if (startBtn) {\r\n      startBtn.disabled = isRunning || isPaused;\r\n      startBtn.textContent = isRunning ? '\uD83D\uDD04 Running...' : '\uD83D\uDE80 Start Import';\r\n    }\r\n    \r\n    if (pauseBtn) {\r\n      pauseBtn.disabled = !isRunning && !isPaused;\r\n      pauseBtn.textContent = isPaused ? '\u25B6\uFE0F Resume' : '\u23F8\uFE0F Pause';\r\n    }\r\n    \r\n    if (cancelBtn) {\r\n      cancelBtn.disabled = !isRunning && !isPaused;\r\n    }\r\n  }\r\n  \r\n  function updateSourceCards(state) {\r\n    // Update GeoNames card\r\n    const geonamesCard = document.querySelector('.source-geonames');\r\n    if (geonamesCard && state.sources.geonames) {\r\n      const badge = geonamesCard.querySelector('.status-badge');\r\n      if (badge) {\r\n        const status = state.sources.geonames.status;\r\n        badge.className = 'status-badge status-' + status;\r\n        badge.textContent = getStatusLabel(status);\r\n      }\r\n      \r\n      // Update stats\r\n      const statsGrid = geonamesCard.querySelector('.stats-grid');\r\n      if (statsGrid && state.stats) {\r\n        const statItems = statsGrid.querySelectorAll('.stat-item');\r\n        if (statItems[1]) {\r\n          statItems[1].querySelector('.stat-value').textContent = formatNumber(state.stats.processed);\r\n        }\r\n        if (statItems[2]) {\r\n          statItems[2].querySelector('.stat-value').textContent = formatNumber(state.stats.inserted);\r\n        }\r\n      }\r\n    }\r\n  }\r\n  \r\n  function appendLog(entry) {\r\n    if (!logBody) return;\r\n    \r\n    const row = document.createElement('div');\r\n    row.className = 'log-entry log-' + (entry.level || 'info');\r\n    \r\n    const timestamp = document.createElement('span');\r\n    timestamp.className = 'log-timestamp';\r\n    timestamp.textContent = entry.time;\r\n    row.appendChild(timestamp);\r\n    \r\n    const message = document.createElement('span');\r\n    message.className = 'log-message';\r\n    message.textContent = entry.message;\r\n    row.appendChild(message);\r\n    \r\n    logBody.appendChild(row);\r\n    logBody.scrollTop = logBody.scrollHeight;\r\n  }\r\n  \r\n  // \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\r\n  // Button Handlers\r\n  // \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\r\n  \r\n  function handleStart() {\r\n    // First do a preflight check\r\n    fetch('/api/geo-import/preflight')\r\n      .then(r => r.json())\r\n      .then(preflight => {\r\n        if (!preflight.ready) {\r\n          // Show download instructions\r\n          showMissingFileAlert(preflight);\r\n          return;\r\n        }\r\n        \r\n        // File exists, start the import\r\n        return fetch('/api/geo-import/start', { method: 'POST' })\r\n          .then(r => r.json())\r\n          .then(data => {\r\n            if (data.error) {\r\n              if (data.instructions) {\r\n                showMissingFileAlert(data);\r\n              } else {\r\n                addLogEntry({ time: new Date().toLocaleTimeString(), level: 'error', message: data.error });\r\n              }\r\n            } else {\r\n              console.log('[GeoImport] Start:', data);\r\n            }\r\n          });\r\n      })\r\n      .catch(err => {\r\n        console.error('[GeoImport] Start error:', err);\r\n        addLogEntry({ time: new Date().toLocaleTimeString(), level: 'error', message: 'Failed to start import: ' + err.message });\r\n      });\r\n  }\r\n  \r\n  function showMissingFileAlert(info) {\r\n    const instructions = info.instructions || [\r\n      '1. Download cities15000.zip from ' + info.downloadUrl,\r\n      '2. Extract cities15000.txt to data/geonames/',\r\n      '3. Click \"Start Import\" again'\r\n    ];\r\n    \r\n    // Add to log\r\n    addLogEntry({ time: new Date().toLocaleTimeString(), level: 'warning', message: '\u26A0\uFE0F GeoNames data file not found' });\r\n    instructions.forEach(step => {\r\n      addLogEntry({ time: new Date().toLocaleTimeString(), level: 'info', message: step });\r\n    });\r\n    \r\n    // Show alert with download link\r\n    const alertMsg = 'GeoNames data file not found!\\\\n\\\\n' + \r\n      instructions.join('\\\\n') + '\\\\n\\\\n' +\r\n      'Download URL: ' + info.downloadUrl;\r\n    \r\n    if (confirm(alertMsg + '\\\\n\\\\nOpen download page?')) {\r\n      window.open(info.downloadUrl, '_blank');\r\n    }\r\n  }\r\n  \r\n  function handlePause() {\r\n    const isPaused = currentState?.status === 'paused';\r\n    const endpoint = isPaused ? '/api/geo-import/resume' : '/api/geo-import/pause';\r\n    \r\n    fetch(endpoint, { method: 'POST' })\r\n      .then(r => r.json())\r\n      .then(data => console.log('[GeoImport] Pause/Resume:', data))\r\n      .catch(err => console.error('[GeoImport] Pause/Resume error:', err));\r\n  }\r\n  \r\n  function handleCancel() {\r\n    if (confirm('Cancel the import?')) {\r\n      fetch('/api/geo-import/cancel', { method: 'POST' })\r\n        .then(r => r.json())\r\n        .then(data => console.log('[GeoImport] Cancel:', data))\r\n        .catch(err => console.error('[GeoImport] Cancel error:', err));\r\n    }\r\n  }\r\n  \r\n  // \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\r\n  // Utilities\r\n  // \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\r\n  \r\n  function formatNumber(n) {\r\n    return typeof n === 'number' ? n.toLocaleString() : (n || '0');\r\n  }\r\n  \r\n  function getStatusLabel(status) {\r\n    const labels = {\r\n      'idle': '\u23F8\uFE0F Idle',\r\n      'ready': '\u2705 Ready',\r\n      'running': '\uD83D\uDD04 Running',\r\n      'validating': '\uD83D\uDD0D Validating',\r\n      'importing': '\uD83D\uDCBE Importing',\r\n      'complete': '\u2705 Complete',\r\n      'error': '\u274C Error',\r\n      'pending': '\u23F3 Pending'\r\n    };\r\n    return labels[status] || status;\r\n  }\r\n  \r\n  function showToast(message, type = 'info') {\r\n    const toast = document.createElement('div');\r\n    toast.className = 'toast ' + type;\r\n    toast.textContent = message;\r\n    toastContainer.appendChild(toast);\r\n    \r\n    // Auto-remove after 4 seconds\r\n    setTimeout(() => {\r\n      toast.style.opacity = '0';\r\n      toast.style.transform = 'translateX(100px)';\r\n      setTimeout(() => toast.remove(), 300);\r\n    }, 4000);\r\n  }\r\n  \r\n  function playCompletionSound() {\r\n    // Use Web Audio API for a simple completion chime\r\n    try {\r\n      const ctx = new (window.AudioContext || window.webkitAudioContext)();\r\n      const oscillator = ctx.createOscillator();\r\n      const gainNode = ctx.createGain();\r\n      \r\n      oscillator.connect(gainNode);\r\n      gainNode.connect(ctx.destination);\r\n      \r\n      oscillator.frequency.value = 523.25; // C5\r\n      oscillator.type = 'sine';\r\n      gainNode.gain.setValueAtTime(0.3, ctx.currentTime);\r\n      gainNode.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.5);\r\n      \r\n      oscillator.start(ctx.currentTime);\r\n      oscillator.stop(ctx.currentTime + 0.5);\r\n      \r\n      // Second note (E5) for a pleasant chime\r\n      setTimeout(() => {\r\n        const osc2 = ctx.createOscillator();\r\n        const gain2 = ctx.createGain();\r\n        osc2.connect(gain2);\r\n        gain2.connect(ctx.destination);\r\n        osc2.frequency.value = 659.25; // E5\r\n        osc2.type = 'sine';\r\n        gain2.gain.setValueAtTime(0.3, ctx.currentTime);\r\n        gain2.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.5);\r\n        osc2.start(ctx.currentTime);\r\n        osc2.stop(ctx.currentTime + 0.5);\r\n      }, 150);\r\n    } catch (e) {\r\n      // Audio not supported, fail silently\r\n      console.log('[GeoImport] Audio notification not available');\r\n    }\r\n  }\r\n  \r\n  function addLogEntry(entry) {\r\n    appendLog(entry);\r\n  }\r\n  \r\n  // \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\r\n  // Initialize\r\n  // \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\r\n  \r\n  // Bind buttons\r\n  if (startBtn) startBtn.addEventListener('click', handleStart);\r\n  if (pauseBtn) pauseBtn.addEventListener('click', handlePause);\r\n  if (cancelBtn) cancelBtn.addEventListener('click', handleCancel);\r\n  \r\n  // Connect SSE\r\n  connectSSE();\r\n  \r\n  // \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\r\n  // Database Selector Handlers\r\n  // \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\r\n  \r\n  const dbSelector = document.querySelector('.database-selector');\r\n  \r\n  function initDatabaseSelector() {\r\n    if (!dbSelector) return;\r\n    \r\n    // Handle database item clicks\r\n    dbSelector.addEventListener('click', function(e) {\r\n      const item = e.target.closest('.db-item');\r\n      if (item) {\r\n        const dbPath = item.getAttribute('data-db-path');\r\n        if (dbPath === '__new__') {\r\n          toggleNewDbInput(true);\r\n        } else {\r\n          selectDatabase(dbPath);\r\n        }\r\n        return;\r\n      }\r\n      \r\n      // Handle action buttons\r\n      const action = e.target.getAttribute('data-action');\r\n      if (action === 'select-default') {\r\n        selectDefaultDatabase();\r\n      } else if (action === 'refresh-list') {\r\n        refreshDatabaseList();\r\n      } else if (action === 'create-new-db') {\r\n        createNewDatabase();\r\n      }\r\n    });\r\n    \r\n    // Handle Enter key in new db input\r\n    const newDbInput = dbSelector.querySelector('[data-input=\"new-db-name\"]');\r\n    if (newDbInput) {\r\n      newDbInput.addEventListener('keypress', function(e) {\r\n        if (e.key === 'Enter') {\r\n          createNewDatabase();\r\n        }\r\n      });\r\n    }\r\n  }\r\n  \r\n  function selectDatabase(dbPath) {\r\n    showToast('Switching to ' + dbPath.split('/').pop() + '...', 'info');\r\n    \r\n    fetch('/api/databases/switch', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ path: dbPath })\r\n    })\r\n    .then(r => r.json())\r\n    .then(data => {\r\n      if (data.error) {\r\n        showToast('Error: ' + data.error, 'error');\r\n        return;\r\n      }\r\n      \r\n      showToast('Switched to ' + data.path.split(/[\\\\\\\\\\\\/]/).pop(), 'success');\r\n      \r\n      // Update UI\r\n      updateSelectedDatabase(dbPath, data.stats);\r\n      \r\n      // Reload page to get fresh state\r\n      setTimeout(() => location.reload(), 500);\r\n    })\r\n    .catch(err => {\r\n      showToast('Failed to switch: ' + err.message, 'error');\r\n    });\r\n  }\r\n  \r\n  function selectDefaultDatabase() {\r\n    // Find default in the list\r\n    const defaultItem = dbSelector.querySelector('.db-item.default');\r\n    if (defaultItem) {\r\n      const dbPath = defaultItem.getAttribute('data-db-path');\r\n      selectDatabase(dbPath);\r\n    }\r\n  }\r\n  \r\n  function refreshDatabaseList() {\r\n    showToast('Refreshing database list...', 'info');\r\n    \r\n    fetch('/api/databases')\r\n      .then(r => r.json())\r\n      .then(data => {\r\n        updateDatabaseList(data.databases, data.current);\r\n        showToast('Found ' + data.databases.length + ' databases', 'success');\r\n      })\r\n      .catch(err => {\r\n        showToast('Failed to refresh: ' + err.message, 'error');\r\n      });\r\n  }\r\n  \r\n  function createNewDatabase() {\r\n    const input = dbSelector.querySelector('[data-input=\"new-db-name\"]');\r\n    if (!input) return;\r\n    \r\n    const name = input.value.trim();\r\n    if (!name) {\r\n      showToast('Please enter a database name', 'warning');\r\n      input.focus();\r\n      return;\r\n    }\r\n    \r\n    showToast('Creating ' + name + '...', 'info');\r\n    \r\n    fetch('/api/databases/create', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ name: name })\r\n    })\r\n    .then(r => r.json())\r\n    .then(data => {\r\n      if (data.error) {\r\n        showToast('Error: ' + data.error, 'error');\r\n        return;\r\n      }\r\n      \r\n      showToast('Created ' + data.name, 'success');\r\n      input.value = '';\r\n      toggleNewDbInput(false);\r\n      \r\n      // Refresh and select new database\r\n      refreshDatabaseList();\r\n      setTimeout(() => selectDatabase(data.path), 500);\r\n    })\r\n    .catch(err => {\r\n      showToast('Failed to create: ' + err.message, 'error');\r\n    });\r\n  }\r\n  \r\n  function toggleNewDbInput(visible) {\r\n    const inputGroup = dbSelector.querySelector('.db-new-input-group');\r\n    const newItem = dbSelector.querySelector('.db-item.new-db');\r\n    \r\n    if (inputGroup) {\r\n      inputGroup.setAttribute('data-visible', visible ? 'true' : 'false');\r\n    }\r\n    if (newItem) {\r\n      newItem.classList.toggle('selected', visible);\r\n    }\r\n    \r\n    if (visible) {\r\n      const input = inputGroup?.querySelector('input');\r\n      if (input) input.focus();\r\n    }\r\n  }\r\n  \r\n  function updateSelectedDatabase(dbPath, stats) {\r\n    // Update selected state in list\r\n    dbSelector.querySelectorAll('.db-item').forEach(item => {\r\n      const isSelected = item.getAttribute('data-db-path') === dbPath;\r\n      item.classList.toggle('selected', isSelected);\r\n      const check = item.querySelector('.db-check');\r\n      if (check) check.textContent = isSelected ? '\u2713' : '';\r\n    });\r\n    \r\n    // Update info panel\r\n    const infoPanel = dbSelector.querySelector('[data-panel=\"selected-info\"]');\r\n    if (infoPanel && stats) {\r\n      infoPanel.innerHTML = \r\n        '<div class=\"info-title\">\uD83D\uDCCA ' + dbPath.split(/[\\\\\\\\\\\\/]/).pop() + '</div>' +\r\n        '<div class=\"info-stats-grid\">' +\r\n          '<div class=\"info-stat\"><span class=\"stat-emoji\">\uD83D\uDCCD</span><span class=\"stat-value\">' + formatNumber(stats.places) + '</span><span class=\"stat-label\">Places</span></div>' +\r\n          '<div class=\"info-stat\"><span class=\"stat-emoji\">\uD83C\uDFF7\uFE0F</span><span class=\"stat-value\">' + formatNumber(stats.names) + '</span><span class=\"stat-label\">Names</span></div>' +\r\n          '<div class=\"info-stat\"><span class=\"stat-emoji\">\uD83D\uDCBE</span><span class=\"stat-value\">' + formatFileSize(stats.size) + '</span><span class=\"stat-label\">Size</span></div>' +\r\n        '</div>' +\r\n        '<div class=\"info-path\"><span class=\"path-label\">Path: </span><code class=\"path-value\">' + dbPath + '</code></div>';\r\n    }\r\n    \r\n    // Update coverage section totals\r\n    const coverageBefore = document.querySelector('.coverage-before');\r\n    if (coverageBefore && stats) {\r\n      const placesBefore = coverageBefore.querySelector('.coverage-item:first-child .coverage-value');\r\n      const namesBefore = coverageBefore.querySelector('.coverage-item:nth-child(2) .coverage-value');\r\n      if (placesBefore) placesBefore.textContent = formatNumber(stats.places);\r\n      if (namesBefore) namesBefore.textContent = formatNumber(stats.names);\r\n    }\r\n  }\r\n  \r\n  function updateDatabaseList(databases, currentPath) {\r\n    const list = dbSelector.querySelector('[data-list=\"databases\"]');\r\n    if (!list) return;\r\n    \r\n    // Clear existing items (except empty state)\r\n    list.querySelectorAll('.db-item').forEach(item => item.remove());\r\n    \r\n    // Add new items\r\n    databases.forEach(db => {\r\n      const item = document.createElement('div');\r\n      item.className = 'db-item' + (db.path === currentPath ? ' selected' : '') + (db.isDefault ? ' default' : '');\r\n      item.setAttribute('data-db-path', db.path);\r\n      \r\n      item.innerHTML = \r\n        '<span class=\"db-icon\">\uD83D\uDDC4\uFE0F</span>' +\r\n        '<div class=\"db-info\">' +\r\n          '<div class=\"db-name-row\">' +\r\n            '<span class=\"db-name\">' + db.name + '</span>' +\r\n            (db.isDefault ? '<span class=\"db-badge default-badge\">\u2B50 Default</span>' : '') +\r\n          '</div>' +\r\n          '<div class=\"db-stats-row\">' +\r\n            '<span class=\"db-stat\">\uD83D\uDCCD ' + formatNumber(db.places) + ' places</span>' +\r\n            '<span class=\"db-stat\">\uD83C\uDFF7\uFE0F ' + formatNumber(db.names) + ' names</span>' +\r\n            '<span class=\"db-stat\">\uD83D\uDCBE ' + formatFileSize(db.size) + '</span>' +\r\n          '</div>' +\r\n        '</div>' +\r\n        '<span class=\"db-check\">' + (db.path === currentPath ? '\u2713' : '') + '</span>';\r\n      \r\n      list.appendChild(item);\r\n    });\r\n  }\r\n  \r\n  function formatFileSize(bytes) {\r\n    if (!bytes) return '0 B';\r\n    const units = ['B', 'KB', 'MB', 'GB'];\r\n    let i = 0;\r\n    while (bytes >= 1024 && i < units.length - 1) {\r\n      bytes /= 1024;\r\n      i++;\r\n    }\r\n    return bytes.toFixed(i > 0 ? 1 : 0) + ' ' + units[i];\r\n  }\r\n  \r\n  // Initialize database selector\r\n  initDatabaseSelector();\r\n  \r\n  console.log('[GeoImport] Dashboard initialized');\r\n})();"],
  "mappings": "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",
  "names": []
}
