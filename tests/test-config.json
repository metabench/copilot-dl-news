{
  "description": "Test configuration for autonomous test execution. AI agents can modify this file without triggering PowerShell confirmation dialogs.",
  "version": "1.0.0",
  "lastModified": "2025-10-10",
  
  "testSuites": {
    "unit": {
      "description": "Fast unit tests only (no network, no E2E)",
  "testPathIgnorePatterns": ["e2e", "online", "puppeteer", "http.test.js", ".dev.test.js", ".manual.test.js", "/broken/"],
      "timeout": 5000,
      "maxWorkers": 4,
      "forceExit": false
    },
    
    "integration": {
      "description": "HTTP server integration tests",
      "testPathPattern": "http.test.js",
      "timeout": 10000,
      "forceExit": true,
      "maxWorkers": 2
    },
    
    "e2e": {
      "description": "Standard E2E tests (excludes dev/manual tests)",
      "testPathPattern": "e2e",
  "testPathIgnorePatterns": [".dev.test.js", ".manual.test.js", "/broken/"],
      "timeout": 60000,
      "forceExit": true,
      "maxWorkers": 1,
      "detectOpenHandles": false
    },
    
    "e2e-quick": {
      "description": "Quick E2E tests only (fast smoke tests)",
      "testPathPattern": "e2e-features",
      "timeout": 30000,
      "forceExit": true,
      "maxWorkers": 1
    },
    
    "all": {
      "description": "All regular tests (excludes dev/manual tests)",
  "testPathIgnorePatterns": [".dev.test.js", ".manual.test.js", "geography-crawl.e2e.test.js", "geography.full.e2e.test.js", "/broken/"],
      "timeout": 10000,
      "forceExit": true,
      "maxWorkers": 4
    },
    
    "dev-geography": {
      "description": "DEVELOPMENT ONLY - Full geography crawl with live APIs (5-15 min runtime)",
      "testPathPattern": "geography.full.e2e.dev.test.js",
      "timeout": 900000,
      "forceExit": true,
      "maxWorkers": 1,
      "environment": {
        "JEST_DISABLE_TRUNCATE": "1",
        "JEST_MAX_CONSOLE_LINES": "999999"
      },
      "note": "This is a development/debugging tool, not a regular test. Run explicitly when debugging geography crawl."
    },
    
    "dev-geography-monitor": {
      "description": "DEVELOPMENT ONLY - Geography crawl with full telemetry monitoring (10 min timeout)",
      "testPathPattern": "geography-crawl.e2e.dev.test.js",
      "timeout": 600000,
      "forceExit": true,
      "maxWorkers": 1,
      "environment": {
        "JEST_DISABLE_TRUNCATE": "1",
        "JEST_MAX_CONSOLE_LINES": "999999"
      },
      "note": "This is a development/debugging tool for monitoring live telemetry. Very long-running."
    }
  },
  
  "notes": {
    "autonomous-operation": "AI agents can modify this file to adjust test configurations without triggering confirmation dialogs.",
    "test-runners": "Use npm run test:suite <suite-name> to run a configured test suite",
    "dev-tests": "Tests with '.dev.test.js' or '.manual.test.js' suffix are excluded from regular runs",
    "naming-convention": "Use .dev.test.js for development/debugging tests, .manual.test.js for manual-only tests",
    "environment-vars": "Avoid using environment variables in test commands - they trigger confirmation dialogs"
  }
}
