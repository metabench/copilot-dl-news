// Theme-specific overrides and dark scheme refinements.

@media (prefers-color-scheme: dark) {
  .panel,
  .insight-extra,
  .pattern-summary-card,
  .pattern-insights-column,
  .pattern-log,
  .pipeline-card,
  .metric-card,
  .insight-item,
  .pattern-log-entry,
  .progress-line,
  .metrics-bar,
  #metrics,
  #progress,
  #inflight,
  #cacheInfo,
  #healthStrip,
  .health-strip,
  .logs-toolbar,
  .control-checkbox,
  .analysis-status-card,
  .global-nav__inner,
  .quick-nav {
    background: rgba(15, 23, 42, 0.78);
    border-color: rgba(148, 163, 184, 0.24);
    box-shadow: 0 14px 36px rgba(2, 6, 23, 0.7);
  }

  .pipeline-card[data-status="running"],
  .pipeline-card[data-status="blocked"],
  .pipeline-card[data-status="ready"],
  .pipeline-card[data-status="applied"] {
    box-shadow: 0 18px 46px rgba(2, 6, 23, 0.8);
  }

  .logs-toolbar {
    background: rgba(15, 23, 42, 0.85);
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.04);
  }

  .metric-pill,
  .analysis-highlights > * {
    background: rgba(59, 130, 246, 0.18);
    border-color: rgba(59, 130, 246, 0.3);
    color: rgba(191, 219, 254, 0.95);
  }

  .badge {
    background: rgba(30, 41, 59, 0.72);
    border-color: rgba(148, 163, 184, 0.4);
    color: rgba(226, 232, 240, 0.9);
  }

  .pipeline-history-list {
    background: rgba(15, 23, 42, 0.6);
  }

  .pattern-log-entry__details {
    background: rgba(100, 116, 139, 0.24);
  }

  .health-strip::before {
    color: rgba(226, 232, 240, 0.6);
  }

  pre {
    background: linear-gradient(135deg, rgba(2, 6, 23, 0.95), rgba(30, 64, 175, 0.9));
    border-color: rgba(30, 41, 59, 0.6);
    color: #38efad;
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.06), 0 18px 36px rgba(2, 6, 23, 0.85);
  }

  .logs-toolbar button {
    background: rgba(37, 99, 235, 0.22);
    border-color: rgba(37, 99, 235, 0.42);
    color: rgba(191, 219, 254, 0.92);
  }

  .logs-toolbar button:hover,
  .logs-toolbar button:focus-visible {
    background: rgba(59, 130, 246, 0.34);
    box-shadow: 0 14px 24px rgba(37, 99, 235, 0.28);
  }

  #errorsList .error-row {
    background: rgba(239, 68, 68, 0.14);
    border-color: rgba(248, 113, 113, 0.32);
  }

  .global-nav__link {
    color: rgba(226, 232, 240, 0.9);
  }

  .global-nav__link:hover,
  .global-nav__link:focus-visible {
    border-color: rgba(59, 130, 246, 0.35);
    background: rgba(59, 130, 246, 0.24);
  }

  .global-nav__item--active .global-nav__link {
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.92), rgba(99, 102, 241, 0.9));
    border-color: rgba(59, 130, 246, 0.55);
    box-shadow: 0 16px 38px rgba(59, 130, 246, 0.32);
  }
}
