{
  "name": "news_crawler",
  "version": "0.0.14",
  "description": "A web crawler for news articles with navigation detection",
  "main": "src/crawl.js",
  "scripts": {
    "lab:list": "node src/ui/lab/run-lab-checks.js --list",
    "lab:check": "node src/ui/lab/run-lab-checks.js --ids 025,026,027,028,046",
    "lab:check:all": "node src/ui/lab/run-lab-checks.js --all",
    "lab:046": "node src/ui/lab/experiments/046-virtual-matrix-control-smoothness/check.js",
    "start": "node src/crawl.js",
    "test": "node --experimental-vm-modules node_modules/jest/bin/jest.js --forceExit --reporters=default --reporters=./tests/jest-timing-reporter.js --reporters=./tools/test-reporter.js",
    "test:timing": "node --experimental-vm-modules node_modules/jest/bin/jest.js --forceExit --reporters=default --reporters=./tests/jest-timing-reporter.js --reporters=./tools/test-reporter.js",
    "test:studio": "node --experimental-vm-modules node_modules/jest/bin/jest.js --forceExit --config ./config/jest.test-studio.config.js",
    "test:studio:by-path": "node --experimental-vm-modules node_modules/jest/bin/jest.js --forceExit --config ./config/jest.test-studio.config.js --runTestsByPath",
    "test:file": "node --experimental-vm-modules node_modules/jest/bin/jest.js --forceExit --reporters=default --reporters=./tests/jest-timing-reporter.js --reporters=./tools/test-reporter.js --testPathPatterns",
    "test:suite": "node tests/run-tests.js",
    "test:unit": "node tests/run-tests.js unit",
    "test:integration": "node tests/run-tests.js integration",
    "test:e2e": "node tests/run-tests.js e2e",
    "test:e2e-quick": "node tests/run-tests.js e2e-quick",
    "test:all": "node tests/run-tests.js all",
    "test:golden": "node scripts/jest_careful_runner.mjs --runTestsByPath tests/golden/golden-set.test.js",
    "test:rate-limit": "node scripts/jest_careful_runner.mjs --runTestsByPath tests/crawler/RateLimitTracker.test.js",
    "benchmark:extraction": "node tools/extraction-benchmark.js",
    "golden:populate": "node tests/golden/populate-fixtures.js",
    "golden:create": "node tests/golden/create-fixture.js",
    "test:dev-geography": "node tests/run-tests.js dev-geography",
    "test:dev-geography-monitor": "node tests/run-tests.js dev-geography-monitor",
    "tests:review": "node tests/tests-review.js",
    "tests:status": "node tests/get-test-summary.js",
    "test:list": "node scripts/jest_careful_runner.mjs --list-only",
    "test:api": "node scripts/jest_api_tests.mjs",
    "test:by-path": "node scripts/jest_careful_runner.mjs --config ./config/jest.test-studio.config.js --runTestsByPath",
    "pr:link": "node tools/dev/git-pr-link.js",
    "test:related": "npx jest --findRelatedTests --listTests",
    "test:name": "npx jest -t",
    "test:proj": "npx jest --selectProjects",
    "test:legacy:fast": "node --experimental-vm-modules node_modules/jest/bin/jest.js --testPathIgnorePatterns='e2e|online|puppeteer|http.test.js' --maxWorkers=4",
    "test:legacy:geography-full": "cross-env GEOGRAPHY_FULL_E2E=1 JEST_DISABLE_TRUNCATE=1 node --experimental-vm-modules node_modules/jest/bin/jest.js --testPathPattern='geography.full.e2e' --reporters=./tests/jest-compact-reporter.js",
    "test:legacy:all": "node --experimental-vm-modules node_modules/jest/bin/jest.js --detectOpenHandles",
    "backfill:dates": "node src/tools/backfill-dates.js",
    "backfill:dates:redo": "node src/tools/backfill-dates.js --redo",
    "analyze:domains": "node src/tools/analyze-domains.js",
    "analyze:pages": "node src/analyse-pages.js",
    "analysis:run": "node src/tools/analysis-run.js",
    "api:gateway": "node src/api/v1/gateway.js",
    "api:gateway:verbose": "node src/api/v1/gateway.js --verbose",
    "ui:data-explorer": "node src/ui/server/dataExplorerServer.js",
    "ui:urls-server": "node src/ui/server/dataExplorerServer.js",
    "ui:visual-diff": "node src/ui/server/visualDiff/server.js",
    "ui:template-teacher": "node src/ui/server/templateTeacher/server.js",
    "ui:crawl-observer": "node src/ui/server/crawlObserver/server.js",
    "ui:crawler-monitor": "node src/ui/server/crawlerMonitor/server.js",
    "ui:crawler-monitor:demo": "cross-env CRAWLER_MONITOR_DEMO=1 node src/ui/server/crawlerMonitor/server.js",
    "ui:query-telemetry": "node src/ui/server/queryTelemetry/server.js",
    "ui:ops-hub": "node src/ui/server/opsHub/server.js",
    "ui:unified": "node src/ui/server/unifiedApp/server.js",
    "ui:rate-limit": "node src/ui/server/rateLimitDashboard/server.js",
    "ui:webhooks": "node src/ui/server/webhookDashboard/server.js",
    "ui:plugins": "node src/ui/server/pluginDashboard/server.js",
    "ui:gazetteer": "node src/ui/server/gazetteerInfoServer.js",
    "ui:docs": "node src/ui/server/docsViewer/server.js",
    "ui:docs:build": "node scripts/build-docs-viewer-client.js",
    "ui:docs:dev": "node scripts/build-docs-viewer-client.js && node src/ui/server/docsViewer/server.js",
    "ui:design": "node src/ui/server/designStudio/server.js",
    "ui:design:build": "node scripts/build-design-studio-client.js",
    "ui:design:dev": "node scripts/build-design-studio-client.js && node src/ui/server/designStudio/server.js",
    "electron:unified": "electron src/ui/electron/unifiedApp/main.js",
    "electron:crawler": "electron src/ui/electron/crawlerApp/main.js",
    "electron:task-monitor": "electron src/ui/electron/taskMonitor/main.js",
    "electron:background-tasks": "electron src/ui/electron/backgroundTasksMonitor/main.js",
    "electron:tray-monitor": "electron src/ui/electron/trayMonitor/main.js",
    "electron:place-hub-matrix": "electron src/ui/electron/placeHubGuessingApp/main.js",
    "ui:tray-monitor": "electron src/ui/electron/trayMonitor/main.js",
    "electron:rebuild": "electron-rebuild -f -w better-sqlite3",
    "electron:unified:pack": "electron-builder --config config/electron-builder.unified.json --dir",
    "electron:unified:dist": "electron-builder --config config/electron-builder.unified.json --win",
    "ui:urls-screenshots": "node scripts/ui/capture-url-table-screenshots.js",
    "ui:client-build": "node scripts/build-ui-client.js",
    "ui:geo-import:build": "node scripts/build-geo-import-client.js",
    "ui:metrics-worker": "node scripts/ui/run-aggregate-worker.js",
    "ui:watch": "node scripts/ui-watch.js",
    "diagram:server": "node src/ui/server/diagramAtlasServer.js",
    "diagram:check": "node src/ui/server/checks/diagramAtlas.check.js",
    "diagram:screenshot": "node scripts/ui/capture-diagram-atlas-screenshot.js",
    "ui:decision-tree:check": "node src/ui/server/decisionTreeViewer/checks/decisionTreeViewer.check.js",
    "svg:check:z-server-ux": "node tools/dev/svg-collisions.js docs/sessions/2025-12-13-z-server-ux-map/z-server-ux-ipc-map.svg --strict",
    "mcp:docs-memory": "node tools/mcp/docs-memory/mcp-server.js",
    "mcp:docs-memory:http": "node tools/mcp/docs-memory/mcp-server.js --http",
    "mcp:svg-editor": "node tools/mcp/svg-editor/mcp-server.js",
    "mcp:svg-editor:http": "node tools/mcp/svg-editor/mcp-server.js --http",
    "z-server": "powershell -Command \"Get-Process -Name electron -EA SilentlyContinue | Stop-Process -Force -EA SilentlyContinue; Push-Location z-server; npm run build; npm start; Pop-Location\"",
    "populate:gazetteer": "node src/tools/populate-gazetteer.js --import-adm1=1 --import-cities=1 --cities-per-country=50 --include-blocs=ALL",
    "cleanup:gazetteer": "node src/tools/gazetteer-cleanup.js",
    "export:gazetteer": "node src/tools/export-gazetteer.js",
    "validate:gazetteer": "node src/tools/validate-gazetteer.js",
    "benchmarks": "node tools/benchmarks/run.js",
    "schema:sync": "node tools/schema/schema-sync.js",
    "schema:check": "node tools/schema/schema-sync.js --check",
    "schema:stats": "node tools/schema/schema-sync.js --stats --verbose",
    "crawl:mini": "node tools/dev/mini-crawl.js",
    "md:edit": "powershell -NoProfile -ExecutionPolicy Bypass -Command \"$OutputEncoding = [Console]::OutputEncoding = [System.Text.Encoding]::UTF8; node tools/dev/md-edit.js\"",
    "js:edit": "powershell -NoProfile -ExecutionPolicy Bypass -Command \"$OutputEncoding = [Console]::OutputEncoding = [System.Text.Encoding]::UTF8; node tools/dev/js-edit.js\"",
    "tmp:prune": "node tools/dev/tmp-prune.js",
    "prune:large": "node tools/cleanup/prune-large-artifacts.js",
    "prune:large:apply": "node tools/cleanup/prune-large-artifacts.js --apply",
    "diag:vscode-freeze": "node tools/vscode-freeze-diagnose.js",
    "diag:vscode-freeze:short": "node tools/vscode-freeze-diagnose.js --duration-sec 60 --interval-ms 750",
    "sessions:archive": "node tools/dev/session-archive.js",
    "sessions:archive:preview": "node tools/dev/session-archive.js --archive --older-than 30",
    "sessions:archive:preview:json": "node tools/dev/session-archive.js --archive --older-than 30 --json --output tmp/session-archive.preview.json",
    "sessions:archive:apply": "node tools/dev/session-archive.js --archive --older-than 30 --fix",
    "sessions:archive:apply:keep": "node tools/dev/session-archive.js --archive --older-than 30 --fix --keep-original",
    "sessions:archive:list": "node tools/dev/session-archive.js --list",
    "sql:check-ui": "node tools/dev/sql-boundary-check.js",
    "task:events": "node tools/dev/task-events.js",
    "task:events:list": "node tools/dev/task-events.js --list",
    "task:events:stats": "node tools/dev/task-events.js --stats",
    "db:downloads": "node tools/dev/db-downloads.js",
    "db:downloads:recent": "node tools/dev/db-downloads.js --recent 25",
    "db:downloads:today": "node tools/dev/db-downloads.js --today",
    "db:downloads:stats": "node tools/dev/db-downloads.js --stats",
    "db:downloads:hosts": "node tools/dev/db-downloads.js --hosts",
    "sessions:archive:search": "node tools/dev/session-archive.js --search",
    "sessions:archive:read": "node tools/dev/session-archive.js --read",
    "sessions:archive:extract": "node tools/dev/session-archive.js --extract",
    "agent:backup": "node tools/agent-backup.js",
    "crawler-app": "electron crawler-app",
    "ics": "node tools/dev/intelligent-crawl-server.js",
    "ics:start": "node tools/dev/intelligent-crawl-server.js start",
    "ics:stop": "node tools/dev/intelligent-crawl-server.js stop",
    "ics:status": "node tools/dev/intelligent-crawl-server.js status",
    "ics:backfill": "node tools/dev/intelligent-crawl-server.js backfill",
    "ics:crawl:start": "node tools/dev/intelligent-crawl-server.js crawl start",
    "ics:crawl:stop": "node tools/dev/intelligent-crawl-server.js crawl stop",
    "ics:db:status": "node tools/dev/intelligent-crawl-server.js db status",
    "ics:db:export": "node tools/dev/intelligent-crawl-server.js db export",
    "db:export": "node src/db/DatabaseExporter.js"
  },
  "keywords": [
    "crawler",
    "news",
    "scraping",
    "theguardian"
  ],
  "author": "",
  "license": "ISC",
  "dependencies": {
    "@modelcontextprotocol/sdk": "^1.25.2",
    "@mozilla/readability": "^0.6.0",
    "@swc/core": "^1.15.4",
    "adm-zip": "^0.5.16",
    "better-sqlite3": "^12.5.0",
    "chalk": "^4.1.2",
    "cheerio": "^1.1.2",
    "commander": "^14.0.2",
    "compression": "^1.8.1",
    "eventsource": "^4.1.0",
    "express": "^5.2.1",
    "fast-xml-parser": "^5.3.3",
    "https-proxy-agent": "^7.0.6",
    "js-yaml": "^4.1.1",
    "jsdom": "^27.3.0",
    "jsgui3-client": "^0.0.124",
    "jsgui3-html": "^0.0.175",
    "jsgui3-server": "^0.0.142",
    "lang-tools": "^0.0.44",
    "linkedom": "^0.18.12",
    "ndjson": "^2.0.0",
    "news-crawler-db": "file:../news-crawler-db",
    "news-db-pure-analysis": "file:../news-db-pure-analysis",
    "node-fetch": "^3.3.2",
    "openai": "^6.10.0",
    "robots-parser": "^3.0.1",
    "swagger-jsdoc": "^6.2.8",
    "swagger-ui-express": "^5.0.1",
    "tar-stream": "^3.1.7",
    "ws": "^8.18.3"
  },
  "devDependencies": {
    "@babel/core": "^7.28.5",
    "@babel/preset-env": "^7.28.5",
    "@electron/rebuild": "^4.0.2",
    "@xmldom/xmldom": "^0.8.11",
    "babel-jest": "^30.2.0",
    "cross-env": "^10.1.0",
    "electron": "^28.0.0",
    "electron-builder": "^24.13.3",
    "esbuild": "^0.27.1",
    "extract-zip": "^2.0.1",
    "fnl": "^0.0.37",
    "jest": "^30.2.0",
    "jest-environment-jsdom": "^30.2.0",
    "markdown-it": "^14.1.0",
    "pg": "^8.16.3",
    "puppeteer": "^24.33.0",
    "sass": "^1.96.0",
    "sharp": "^0.34.5",
    "supertest": "^7.1.4"
  },
  "jest": {
    "setupFilesAfterEnv": [
      "<rootDir>/tests/jest.setup.js"
    ],
    "testPathIgnorePatterns": [
      "/node_modules/",
      "/__tests__/helpers/",
      "/helpers/",
      "database-helpers.js",
      "/tests/broken/",
      "/src/deprecated-ui/",
      "/tests/deprecated-ui/"
    ],
    "reporters": [
      "default",
      "<rootDir>/tests/jest-reporter-truncate.js"
    ],
    "maxWorkers": 8,
    "testTimeout": 10000,
    "slowTestThreshold": 2,
    "transform": {
      "^.+\\.js$": "babel-jest"
    },
    "transformIgnorePatterns": [
      "node_modules/(?!(parse5|entities|jsdom)/)"
    ],
    "watchman": false,
    "watch": false,
    "watchAll": false
  }
}
