<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 900">
  <defs>
    <!-- Background Gradient (White Leather) -->
    <linearGradient id="bgGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#ffffff;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#fdfcfa;stop-opacity:1" />
    </linearGradient>

    <!-- Obsidian Gradient (Panels) -->
    <linearGradient id="obsidianGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#1a1f2e;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#0a0d14;stop-opacity:1" />
    </linearGradient>

    <!-- Blueprint Gradient (Suggestions) -->
    <linearGradient id="blueprintGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#e0e7ff" />
      <stop offset="100%" style="stop-color:#c7d2fe" />
    </linearGradient>

    <!-- Gemstone Gradients -->
    <linearGradient id="coreGem" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#60a5fa" />
      <stop offset="100%" style="stop-color:#123a74" />
    </linearGradient>
    <linearGradient id="priorityGem" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#2dd4bf" />
      <stop offset="100%" style="stop-color:#0f5f33" />
    </linearGradient>
    <linearGradient id="suggestionGem" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#94a3b8" />
      <stop offset="100%" style="stop-color:#475569" />
    </linearGradient>

    <!-- Filters -->
    <filter id="dropShadow" x="-20%" y="-20%" width="140%" height="140%">
      <feOffset dx="0" dy="4" result="offsetblur" />
      <feGaussianBlur stdDeviation="8" result="blur" />
      <feComposite in="SourceGraphic" in2="blur" operator="over" />
    </filter>
    <filter id="gemGlow">
      <feGaussianBlur stdDeviation="3" in="SourceGraphic" result="blur" />
      <feComposite in="SourceGraphic" in2="blur" operator="over" />
    </filter>
  </defs>

  <!-- Background -->
  <rect width="100%" height="100%" fill="url(#bgGradient)" />

  <!-- Header -->
  <g transform="translate(50, 40)">
    <rect width="1100" height="80" rx="12" fill="url(#obsidianGradient)" stroke="#d8cba9" stroke-width="2" filter="url(#dropShadow)" />
    <text x="550" y="50" font-family="Segoe UI, sans-serif" font-size="28" font-weight="bold" fill="#ffffff" text-anchor="middle" letter-spacing="2">ANALYSIS PLUGIN ARCHITECTURE</text>
  </g>

  <!-- Legend -->
  <g transform="translate(950, 40)">
     <circle cx="10" cy="50" r="6" fill="url(#priorityGem)" filter="url(#gemGlow)" />
     <text x="25" y="55" font-family="Segoe UI, sans-serif" font-size="12" fill="#d8cba9">High Priority</text>
     <circle cx="110" cy="50" r="6" fill="#94a3b8" />
     <text x="125" y="55" font-family="Segoe UI, sans-serif" font-size="12" fill="#d8cba9">Suggestion</text>
  </g>

  <!-- Core Module (Center) -->
  <g transform="translate(400, 200)">
    <rect width="400" height="200" rx="12" fill="url(#obsidianGradient)" stroke="#d8cba9" stroke-width="4" filter="url(#dropShadow)" />
    <rect x="20" y="20" width="40" height="40" rx="6" fill="url(#coreGem)" filter="url(#gemGlow)" />
    <text x="80" y="47" font-family="Segoe UI, sans-serif" font-size="22" font-weight="bold" fill="#ffffff">news-db-analysis (Core)</text>
    <line x1="20" y1="80" x2="380" y2="80" stroke="#d8cba9" stroke-opacity="0.5" />
    
    <text x="30" y="110" font-family="Segoe UI, sans-serif" font-size="14" fill="#a0a0a0">1. Base Analyzer Interface (IAnalyzer)</text>
    <text x="30" y="135" font-family="Segoe UI, sans-serif" font-size="14" fill="#a0a0a0">2. Shared SQL Helpers (TimeSeries, Aggs)</text>
    <text x="30" y="160" font-family="Segoe UI, sans-serif" font-size="14" fill="#a0a0a0">3. Result Persistence (analysis_results table)</text>
    <text x="30" y="185" font-family="Segoe UI, sans-serif" font-size="14" fill="#d8cba9" font-weight="bold">registry.register(plugin)</text>
  </g>
  
  <!-- Connector Lines -->
  <g fill="none" stroke="#d8cba9" stroke-width="2">
    <!-- To Priority Left -->
    <path d="M400 300 L250 300" />
    <!-- To Priority Right -->
    <path d="M800 300 L950 300" />
    <!-- To Suggestions Bottom -->
    <path d="M600 400 L600 550" stroke-dasharray="5 5" />
    <path d="M600 550 L300 550 L300 650" stroke-dasharray="5 5" />
    <path d="M600 550 L900 550 L900 650" stroke-dasharray="5 5" />
  </g>

  <!-- High Priority Plugins (Left) -->
  <g transform="translate(50, 220)">
    <rect width="250" height="160" rx="8" fill="url(#obsidianGradient)" stroke="#2dd4bf" stroke-width="2" filter="url(#dropShadow)" />
    <rect x="15" y="15" width="25" height="25" rx="4" fill="url(#priorityGem)" filter="url(#gemGlow)" />
    <text x="50" y="32" font-family="Segoe UI, sans-serif" font-size="16" font-weight="bold" fill="#ffffff">Sentiment Plugin</text>
    <text x="15" y="65" font-family="Segoe UI, sans-serif" font-size="12" fill="#a0a0a0">Why: Core news metric</text>
    <line x1="15" y1="75" x2="235" y2="75" stroke="#2dd4bf" stroke-opacity="0.3" />
    <text x="15" y="95" font-family="Segoe UI, sans-serif" font-size="11" fill="#c0c0c0">• Avg sentiment/day</text>
    <text x="15" y="115" font-family="Segoe UI, sans-serif" font-size="11" fill="#c0c0c0">• Polarization score (stddev)</text>
    <text x="15" y="135" font-family="Segoe UI, sans-serif" font-size="11" fill="#c0c0c0">• Negative outlier detection</text>
  </g>

  <!-- High Priority Plugins (Right) -->
  <g transform="translate(900, 220)">
    <rect width="250" height="160" rx="8" fill="url(#obsidianGradient)" stroke="#2dd4bf" stroke-width="2" filter="url(#dropShadow)" />
    <rect x="15" y="15" width="25" height="25" rx="4" fill="url(#priorityGem)" filter="url(#gemGlow)" />
    <text x="50" y="32" font-family="Segoe UI, sans-serif" font-size="16" font-weight="bold" fill="#ffffff">Geo Hub Plugin</text>
    <text x="15" y="65" font-family="Segoe UI, sans-serif" font-size="12" fill="#a0a0a0">Why: Critical for Gazetteer</text>
    <line x1="15" y1="75" x2="235" y2="75" stroke="#2dd4bf" stroke-opacity="0.3" />
    <text x="15" y="95" font-family="Segoe UI, sans-serif" font-size="11" fill="#c0c0c0">• Top cities by mentions</text>
    <text x="15" y="115" font-family="Segoe UI, sans-serif" font-size="11" fill="#c0c0c0">• Hub coverage gaps</text>
    <text x="15" y="135" font-family="Segoe UI, sans-serif" font-size="11" fill="#c0c0c0">• Regional density heatmaps</text>
  </g>

  <!-- Suggestion Area -->
  <text x="600" y="580" font-family="Segoe UI, sans-serif" font-size="18" font-weight="bold" fill="#94a3b8" text-anchor="middle" letter-spacing="1">PLUGIN IDEAS &amp; EXTENSIONS</text>

  <!-- Idea 1: Source Quality -->
  <g transform="translate(150, 620)">
    <rect width="280" height="150" rx="8" fill="#f8fafc" stroke="#94a3b8" stroke-width="2" stroke-dasharray="6 4" />
    <rect x="15" y="15" width="20" height="20" rx="3" fill="#cbd5e1" />
    <text x="45" y="30" font-family="Segoe UI, sans-serif" font-size="16" font-weight="bold" fill="#475569">Source Quality</text>
    <line x1="15" y1="50" x2="265" y2="50" stroke="#94a3b8" stroke-opacity="0.5" />
    <text x="15" y="75" font-family="Segoe UI, sans-serif" font-size="12" fill="#64748b">• Content-length histogram</text>
    <text x="15" y="95" font-family="Segoe UI, sans-serif" font-size="12" fill="#64748b">• Null field rates (title/date)</text>
    <text x="15" y="115" font-family="Segoe UI, sans-serif" font-size="12" fill="#64748b">• Broken link/error tracking</text>
  </g>

  <!-- Idea 2: Network Analysis -->
  <g transform="translate(460, 620)">
    <rect width="280" height="150" rx="8" fill="#f8fafc" stroke="#94a3b8" stroke-width="2" stroke-dasharray="6 4" />
    <rect x="15" y="15" width="20" height="20" rx="3" fill="#cbd5e1" />
    <text x="45" y="30" font-family="Segoe UI, sans-serif" font-size="16" font-weight="bold" fill="#475569">Network Graph</text>
    <line x1="15" y1="50" x2="265" y2="50" stroke="#94a3b8" stroke-opacity="0.5" />
    <text x="15" y="75" font-family="Segoe UI, sans-serif" font-size="12" fill="#64748b">• Hub-Authority scores</text>
    <text x="15" y="95" font-family="Segoe UI, sans-serif" font-size="12" fill="#64748b">• Cross-linking Patterns</text>
    <text x="15" y="115" font-family="Segoe UI, sans-serif" font-size="12" fill="#64748b">• Circular reference check</text>
  </g>

  <!-- Idea 3: Anomaly Detection -->
  <g transform="translate(770, 620)">
    <rect width="280" height="150" rx="8" fill="#f8fafc" stroke="#94a3b8" stroke-width="2" stroke-dasharray="6 4" />
    <rect x="15" y="15" width="20" height="20" rx="3" fill="#cbd5e1" />
    <text x="45" y="30" font-family="Segoe UI, sans-serif" font-size="16" font-weight="bold" fill="#475569">Anomaly Detector</text>
    <line x1="15" y1="50" x2="265" y2="50" stroke="#94a3b8" stroke-opacity="0.5" />
    <text x="15" y="75" font-family="Segoe UI, sans-serif" font-size="12" fill="#64748b">• Sudden crawl volume spikes</text>
    <text x="15" y="95" font-family="Segoe UI, sans-serif" font-size="12" fill="#64748b">• Unexpected topic shift</text>
    <text x="15" y="115" font-family="Segoe UI, sans-serif" font-size="12" fill="#64748b">• Data drift alerts</text>
  </g>

</svg>
