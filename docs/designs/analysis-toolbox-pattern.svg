<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800">
  <defs>
    <!-- Background Gradient (White Leather) -->
    <linearGradient id="bgGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#ffffff;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#fdfcfa;stop-opacity:1" />
    </linearGradient>

    <!-- Obsidian Gradient (Panels) -->
    <linearGradient id="obsidianGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#1a1f2e;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#0a0d14;stop-opacity:1" />
    </linearGradient>

    <!-- Gemstone Gradients -->
    <linearGradient id="sapphireGem" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#60a5fa" />
      <stop offset="100%" style="stop-color:#123a74" />
    </linearGradient>
    <linearGradient id="emeraldGem" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#2dd4bf" />
      <stop offset="100%" style="stop-color:#0f5f33" />
    </linearGradient>
    <linearGradient id="rubyGem" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#e74c5e" />
      <stop offset="100%" style="stop-color:#c21f32" />
      <stop offset="100%" style="stop-color:#8d1424" />
    </linearGradient>
    <linearGradient id="goldGem" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#fcd34d" />
      <stop offset="100%" style="stop-color:#b45309" />
      <stop offset="100%" style="stop-color:#78350f" />
    </linearGradient>

    <!-- Filters -->
    <filter id="dropShadow" x="-20%" y="-20%" width="140%" height="140%">
      <feOffset dx="0" dy="4" result="offsetblur" />
      <feGaussianBlur stdDeviation="8" result="blur" />
      <feComposite in="SourceGraphic" in2="blur" operator="over" />
    </filter>
    <filter id="gemGlow">
      <feGaussianBlur stdDeviation="3" in="SourceGraphic" result="blur" />
      <feComposite in="SourceGraphic" in2="blur" operator="over" />
    </filter>
  </defs>

  <!-- Background -->
  <rect width="100%" height="100%" fill="url(#bgGradient)" />

  <!-- Header -->
  <g transform="translate(50, 40)">
    <rect width="1100" height="80" rx="12" fill="url(#obsidianGradient)" stroke="#d8cba9" stroke-width="2" filter="url(#dropShadow)" />
    <text x="550" y="50" font-family="Segoe UI, sans-serif" font-size="28" font-weight="bold" fill="#ffffff" text-anchor="middle" letter-spacing="2">ANALYSIS TOOLBOX PATTERN</text>
  </g>

  <!-- Legend -->
  <g transform="translate(50, 750)">
    <text x="0" y="0" font-family="Segoe UI, sans-serif" font-size="14" fill="#555">Architecture: Independent Classes via Dependency Injection (No Registry)</text>
  </g>

  <!-- Application Layer (Top) -->
  <g transform="translate(300, 160)">
    <rect width="600" height="80" rx="8" fill="#e2e8f0" stroke="#94a3b8" stroke-width="2" stroke-dasharray="5 5" />
    <text x="300" y="30" font-family="Segoe UI, sans-serif" font-size="18" font-weight="bold" fill="#475569" text-anchor="middle">Your Application / Agent</text>
    <text x="300" y="55" font-family="Segoe UI, sans-serif" font-size="14" fill="#64748b" text-anchor="middle">Directly instantiates tools as needed</text>
  </g>

  <!-- Connectors -->
  <g stroke="#d8cba9" stroke-width="2" fill="none">
    <path d="M400 240 L300 350" /> <!-- To TS -->
    <path d="M500 240 L500 350" /> <!-- To Geo -->
    <path d="M700 240 L700 350" /> <!-- To Quality -->
    <path d="M800 240 L900 350" /> <!-- To Network -->
  </g>

  <!-- Tool 1: Time Series (Sapphire) -->
  <g transform="translate(150, 350)">
    <rect width="200" height="300" rx="12" fill="url(#obsidianGradient)" stroke="#60a5fa" stroke-width="2" filter="url(#dropShadow)" />
    <rect x="20" y="20" width="30" height="30" rx="4" fill="url(#sapphireGem)" filter="url(#gemGlow)" />
    <text x="60" y="42" font-family="Segoe UI, sans-serif" font-size="16" font-weight="bold" fill="#ffffff">TimeSeries</text>
    <text x="60" y="110" font-family="Segoe UI, sans-serif" font-size="14" fill="#a0a0a0" font-weight="bold">Analyzer</text>
    
    <text x="20" y="150" font-family="Segoe UI, sans-serif" font-size="12" fill="#d8cba9">Methods:</text>
    <text x="20" y="170" font-family="Segoe UI, sans-serif" font-size="12" fill="#a0a0a0">• getDailyCounts()</text>
    <text x="20" y="190" font-family="Segoe UI, sans-serif" font-size="12" fill="#a0a0a0">• getVolumeByDomain()</text>
    <text x="20" y="210" font-family="Segoe UI, sans-serif" font-size="12" fill="#a0a0a0">• getCrawlRate()</text>
    
    <rect x="20" y="250" width="160" height="3" fill="#60a5fa" fill-opacity="0.3" />
    <text x="100" y="270" font-family="Segoe UI, sans-serif" font-size="10" fill="#64748b" text-anchor="middle">Uses DB Adapter</text>
  </g>

  <!-- Tool 2: Geo (Emerald) -->
  <g transform="translate(390, 350)">
    <rect width="200" height="300" rx="12" fill="url(#obsidianGradient)" stroke="#2dd4bf" stroke-width="2" filter="url(#dropShadow)" />
    <rect x="20" y="20" width="30" height="30" rx="4" fill="url(#emeraldGem)" filter="url(#gemGlow)" />
    <text x="60" y="42" font-family="Segoe UI, sans-serif" font-size="16" font-weight="bold" fill="#ffffff">Geo</text>
    <text x="60" y="110" font-family="Segoe UI, sans-serif" font-size="14" fill="#a0a0a0" font-weight="bold">Analyzer</text>
    
    <text x="20" y="150" font-family="Segoe UI, sans-serif" font-size="12" fill="#d8cba9">Methods:</text>
    <text x="20" y="170" font-family="Segoe UI, sans-serif" font-size="12" fill="#a0a0a0">• getHubStats()</text>
    <text x="20" y="190" font-family="Segoe UI, sans-serif" font-size="12" fill="#a0a0a0">• findCoverageGaps()</text>
    <text x="20" y="210" font-family="Segoe UI, sans-serif" font-size="12" fill="#a0a0a0">• getRegionalDensity()</text>

    <rect x="20" y="250" width="160" height="3" fill="#2dd4bf" fill-opacity="0.3" />
    <text x="100" y="270" font-family="Segoe UI, sans-serif" font-size="10" fill="#64748b" text-anchor="middle">Uses DB Adapter</text>
  </g>

  <!-- Tool 3: Quality (Gold) - Idea -->
  <g transform="translate(630, 350)">
    <rect width="200" height="300" rx="12" fill="#fcfcfc" stroke="#fcd34d" stroke-width="2" stroke-dasharray="6 4" />
    <rect x="20" y="20" width="30" height="30" rx="4" fill="#fef3c7" />
    <text x="60" y="42" font-family="Segoe UI, sans-serif" font-size="16" font-weight="bold" fill="#78350f">Quality</text>
    <text x="60" y="110" font-family="Segoe UI, sans-serif" font-size="14" fill="#78350f" font-weight="bold">Analyzer</text>
    <text x="150" y="35" font-family="Segoe UI, sans-serif" font-size="10" fill="#b45309">IDEA</text>
    
    <text x="20" y="150" font-family="Segoe UI, sans-serif" font-size="12" fill="#b45309">Methods:</text>
    <text x="20" y="170" font-family="Segoe UI, sans-serif" font-size="12" fill="#78350f">• getHealthScore()</text>
    <text x="20" y="190" font-family="Segoe UI, sans-serif" font-size="12" fill="#78350f">• checkNullBasicFields()</text>
    <text x="20" y="210" font-family="Segoe UI, sans-serif" font-size="12" fill="#78350f">• findDataDrift()</text>

    <rect x="20" y="250" width="160" height="3" fill="#fcd34d" fill-opacity="0.3" />
    <text x="100" y="270" font-family="Segoe UI, sans-serif" font-size="10" fill="#b45309" text-anchor="middle">Uses DB Adapter</text>
  </g>

  <!-- Tool 4: Network (Ruby) - Idea -->
  <g transform="translate(870, 350)">
    <rect width="200" height="300" rx="12" fill="#fcfcfc" stroke="#e74c5e" stroke-width="2" stroke-dasharray="6 4" />
    <rect x="20" y="20" width="30" height="30" rx="4" fill="#fee2e2" />
    <text x="60" y="42" font-family="Segoe UI, sans-serif" font-size="16" font-weight="bold" fill="#991b1b">Network</text>
    <text x="60" y="110" font-family="Segoe UI, sans-serif" font-size="14" fill="#991b1b" font-weight="bold">Analyzer</text>
    <text x="150" y="35" font-family="Segoe UI, sans-serif" font-size="10" fill="#991b1b">IDEA</text>
    
    <text x="20" y="150" font-family="Segoe UI, sans-serif" font-size="12" fill="#991b1b">Methods:</text>
    <text x="20" y="170" font-family="Segoe UI, sans-serif" font-size="12" fill="#7f1d1d">• getAuthorityScore()</text>
    <text x="20" y="190" font-family="Segoe UI, sans-serif" font-size="12" fill="#7f1d1d">• mapCrossLinks()</text>
    <text x="20" y="210" font-family="Segoe UI, sans-serif" font-size="12" fill="#7f1d1d">• findCircularRefs()</text>

    <rect x="20" y="250" width="160" height="3" fill="#e74c5e" fill-opacity="0.3" />
    <text x="100" y="270" font-family="Segoe UI, sans-serif" font-size="10" fill="#991b1b" text-anchor="middle">Uses DB Adapter</text>
  </g>

</svg>
