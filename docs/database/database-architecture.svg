<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1400 950">
  <defs>
    <linearGradient id="bgGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#0a0a0f"/>
      <stop offset="100%" style="stop-color:#1a1a2e"/>
    </linearGradient>
    <linearGradient id="newsDbGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#1a2a1a"/>
      <stop offset="100%" style="stop-color:#0d1a0d"/>
    </linearGradient>
    <linearGradient id="geoDbGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#1a2a2a"/>
      <stop offset="100%" style="stop-color:#0d1a1a"/>
    </linearGradient>
    <linearGradient id="coreGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#2d5a2d"/>
      <stop offset="100%" style="stop-color:#1a3a1a"/>
    </linearGradient>
    <linearGradient id="classifyGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#8b7320"/>
      <stop offset="100%" style="stop-color:#5a4a15"/>
    </linearGradient>
    <linearGradient id="crawlGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#8b2020"/>
      <stop offset="100%" style="stop-color:#5a1515"/>
    </linearGradient>
    <linearGradient id="telemetryGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#5a3d8a"/>
      <stop offset="100%" style="stop-color:#3a2a5a"/>
    </linearGradient>
    <linearGradient id="hubGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#2a5a8a"/>
      <stop offset="100%" style="stop-color:#1a3a5a"/>
    </linearGradient>
    <linearGradient id="geoGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#198754"/>
      <stop offset="100%" style="stop-color:#0d5a35"/>
    </linearGradient>
    <linearGradient id="hierGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#6610f2"/>
      <stop offset="100%" style="stop-color:#4a0cb0"/>
    </linearGradient>
    <linearGradient id="ftsGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#d63384"/>
      <stop offset="100%" style="stop-color:#8a2058"/>
    </linearGradient>
    <linearGradient id="goldGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#8b7320"/>
      <stop offset="50%" style="stop-color:#c9a227"/>
      <stop offset="100%" style="stop-color:#8b7320"/>
    </linearGradient>
    <filter id="glow" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur stdDeviation="2" result="blur"/>
      <feMerge>
        <feMergeNode in="blur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    <filter id="softGlow" x="-10%" y="-10%" width="120%" height="120%">
      <feGaussianBlur stdDeviation="1" result="blur"/>
      <feMerge>
        <feMergeNode in="blur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>
  
  <rect width="1400" height="950" fill="url(#bgGrad)"/>
  
  <g stroke="rgba(255,255,255,0.03)" stroke-width="1">
    <line x1="0" y1="100" x2="1400" y2="100"/>
    <line x1="0" y1="200" x2="1400" y2="200"/>
    <line x1="0" y1="300" x2="1400" y2="300"/>
    <line x1="0" y1="400" x2="1400" y2="400"/>
    <line x1="0" y1="500" x2="1400" y2="500"/>
    <line x1="0" y1="600" x2="1400" y2="600"/>
    <line x1="0" y1="700" x2="1400" y2="700"/>
    <line x1="0" y1="800" x2="1400" y2="800"/>
    <line x1="700" y1="0" x2="700" y2="950"/>
  </g>
  
  <path d="M 20 8 L 20 20 L 8 20" stroke="#c9a227" stroke-width="2" fill="none" filter="url(#glow)"/>
  <path d="M 1380 8 L 1380 20 L 1392 20" stroke="#c9a227" stroke-width="2" fill="none" filter="url(#glow)"/>
  <path d="M 20 942 L 20 930 L 8 930" stroke="#c9a227" stroke-width="2" fill="none" filter="url(#glow)"/>
  <path d="M 1380 942 L 1380 930 L 1392 930" stroke="#c9a227" stroke-width="2" fill="none" filter="url(#glow)"/>
  
  <text x="700" y="42" text-anchor="middle" font-family="Segoe UI, Arial" font-size="26" font-weight="600" fill="#e8e8e8" letter-spacing="3" filter="url(#softGlow)">DATABASE ARCHITECTURE</text>
  <line x1="500" y1="52" x2="900" y2="52" stroke="url(#goldGrad)" stroke-width="1"/>
  <text x="700" y="72" text-anchor="middle" font-family="Segoe UI, Arial" font-size="11" fill="#888" letter-spacing="2">DUAL SQLITE PERSISTENCE LAYER</text>
  
  <!-- news.db container -->
  <rect x="25" y="95" width="665" height="700" rx="8" fill="url(#newsDbGrad)" stroke="rgba(201,162,39,0.3)" stroke-width="1"/>
  <rect x="25" y="95" width="665" height="32" rx="8" fill="rgba(201,162,39,0.15)"/>
  <text x="357" y="117" text-anchor="middle" font-family="Segoe UI, Arial" font-size="16" font-weight="600" fill="#c9a227" letter-spacing="2" filter="url(#softGlow)">NEWS.DB</text>
  <text x="357" y="138" text-anchor="middle" font-family="Segoe UI, Arial" font-size="10" fill="#888">~500 MB - Crawled Content and Analysis</text>
  
  <text x="45" y="168" font-family="Segoe UI, Arial" font-size="9" fill="#c9a227" letter-spacing="1">CORE CONTENT</text>
  
  <!-- pages table -->
  <rect x="45" y="178" width="195" height="145" rx="4" fill="rgba(0,0,0,0.3)" stroke="rgba(45,90,45,0.6)" stroke-width="1"/>
  <rect x="45" y="178" width="195" height="22" rx="4" fill="url(#coreGrad)"/>
  <text x="142" y="193" text-anchor="middle" font-family="Consolas, monospace" font-size="11" font-weight="600" fill="#e8e8e8">pages</text>
  <text x="55" y="215" font-family="Consolas, monospace" font-size="9" fill="#c9a227">id</text>
  <text x="85" y="215" font-family="Consolas, monospace" font-size="9" fill="#888">INTEGER PK</text>
  <text x="55" y="230" font-family="Consolas, monospace" font-size="9" fill="#c9a227">url</text>
  <text x="85" y="230" font-family="Consolas, monospace" font-size="9" fill="#888">TEXT UNIQUE</text>
  <text x="55" y="245" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">host</text>
  <text x="95" y="245" font-family="Consolas, monospace" font-size="9" fill="#888">TEXT</text>
  <text x="55" y="260" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">title</text>
  <text x="100" y="260" font-family="Consolas, monospace" font-size="9" fill="#888">TEXT</text>
  <text x="55" y="275" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">content</text>
  <text x="115" y="275" font-family="Consolas, monospace" font-size="9" fill="#888">TEXT</text>
  <text x="55" y="290" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">published_at</text>
  <text x="140" y="290" font-family="Consolas, monospace" font-size="9" fill="#888">DATETIME</text>
  <text x="55" y="305" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">crawled_at</text>
  <text x="135" y="305" font-family="Consolas, monospace" font-size="9" fill="#888">DATETIME</text>
  <text x="142" y="320" text-anchor="middle" font-family="Consolas, monospace" font-size="8" fill="#6a6a6a">~180K rows</text>
  
  <!-- page_places table -->
  <rect x="255" y="178" width="195" height="145" rx="4" fill="rgba(0,0,0,0.3)" stroke="rgba(45,90,45,0.6)" stroke-width="1"/>
  <rect x="255" y="178" width="195" height="22" rx="4" fill="url(#coreGrad)"/>
  <text x="352" y="193" text-anchor="middle" font-family="Consolas, monospace" font-size="11" font-weight="600" fill="#e8e8e8">page_places</text>
  <text x="265" y="215" font-family="Consolas, monospace" font-size="9" fill="#c9a227">id</text>
  <text x="290" y="215" font-family="Consolas, monospace" font-size="9" fill="#888">INTEGER PK</text>
  <text x="265" y="230" font-family="Consolas, monospace" font-size="9" fill="#ff9800">page_id</text>
  <text x="325" y="230" font-family="Consolas, monospace" font-size="9" fill="#888">FK pages</text>
  <text x="265" y="245" font-family="Consolas, monospace" font-size="9" fill="#4fc3f7">geoname_id</text>
  <text x="345" y="245" font-family="Consolas, monospace" font-size="9" fill="#888">FK geo</text>
  <text x="265" y="260" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">source</text>
  <text x="315" y="260" font-family="Consolas, monospace" font-size="9" fill="#888">TEXT</text>
  <text x="265" y="275" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">context</text>
  <text x="325" y="275" font-family="Consolas, monospace" font-size="9" fill="#888">TEXT</text>
  <text x="265" y="290" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">confidence</text>
  <text x="345" y="290" font-family="Consolas, monospace" font-size="9" fill="#888">REAL</text>
  <text x="352" y="320" text-anchor="middle" font-family="Consolas, monospace" font-size="8" fill="#6a6a6a">~350K rows - Bridge to Gazetteer</text>
  
  <text x="45" y="350" font-family="Segoe UI, Arial" font-size="9" fill="#c9a227" letter-spacing="1">CLASSIFICATION</text>
  
  <!-- page_facts table -->
  <rect x="45" y="360" width="195" height="120" rx="4" fill="rgba(0,0,0,0.3)" stroke="rgba(139,115,32,0.6)" stroke-width="1"/>
  <rect x="45" y="360" width="195" height="22" rx="4" fill="url(#classifyGrad)"/>
  <text x="142" y="375" text-anchor="middle" font-family="Consolas, monospace" font-size="11" font-weight="600" fill="#e8e8e8">page_facts</text>
  <text x="55" y="397" font-family="Consolas, monospace" font-size="9" fill="#c9a227">id</text>
  <text x="80" y="397" font-family="Consolas, monospace" font-size="9" fill="#888">INTEGER PK</text>
  <text x="55" y="412" font-family="Consolas, monospace" font-size="9" fill="#ff9800">page_id</text>
  <text x="115" y="412" font-family="Consolas, monospace" font-size="9" fill="#888">FK pages</text>
  <text x="55" y="427" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">fact_type</text>
  <text x="125" y="427" font-family="Consolas, monospace" font-size="9" fill="#888">TEXT</text>
  <text x="55" y="442" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">value</text>
  <text x="100" y="442" font-family="Consolas, monospace" font-size="9" fill="#888">TEXT</text>
  <text x="55" y="457" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">detected_at</text>
  <text x="140" y="457" font-family="Consolas, monospace" font-size="9" fill="#888">DATETIME</text>
  <text x="142" y="475" text-anchor="middle" font-family="Consolas, monospace" font-size="8" fill="#6a6a6a">~420K rows</text>
  
  <!-- page_classifications table -->
  <rect x="255" y="360" width="195" height="120" rx="4" fill="rgba(0,0,0,0.3)" stroke="rgba(139,115,32,0.6)" stroke-width="1"/>
  <rect x="255" y="360" width="195" height="22" rx="4" fill="url(#classifyGrad)"/>
  <text x="352" y="375" text-anchor="middle" font-family="Consolas, monospace" font-size="10" font-weight="600" fill="#e8e8e8">page_classifications</text>
  <text x="265" y="397" font-family="Consolas, monospace" font-size="9" fill="#c9a227">id</text>
  <text x="290" y="397" font-family="Consolas, monospace" font-size="9" fill="#888">INTEGER PK</text>
  <text x="265" y="412" font-family="Consolas, monospace" font-size="9" fill="#ff9800">page_id</text>
  <text x="325" y="412" font-family="Consolas, monospace" font-size="9" fill="#888">FK pages</text>
  <text x="265" y="427" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">category</text>
  <text x="330" y="427" font-family="Consolas, monospace" font-size="9" fill="#888">TEXT</text>
  <text x="265" y="442" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">confidence</text>
  <text x="345" y="442" font-family="Consolas, monospace" font-size="9" fill="#888">REAL</text>
  <text x="265" y="457" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">rule_id</text>
  <text x="320" y="457" font-family="Consolas, monospace" font-size="9" fill="#888">TEXT</text>
  <text x="352" y="475" text-anchor="middle" font-family="Consolas, monospace" font-size="8" fill="#6a6a6a">~180K rows</text>
  
  <text x="465" y="168" font-family="Segoe UI, Arial" font-size="9" fill="#c9a227" letter-spacing="1">CRAWL STATE</text>
  
  <!-- crawl_queue table -->
  <rect x="465" y="178" width="210" height="105" rx="4" fill="rgba(0,0,0,0.3)" stroke="rgba(139,32,32,0.6)" stroke-width="1"/>
  <rect x="465" y="178" width="210" height="22" rx="4" fill="url(#crawlGrad)"/>
  <text x="570" y="193" text-anchor="middle" font-family="Consolas, monospace" font-size="11" font-weight="600" fill="#e8e8e8">crawl_queue</text>
  <text x="475" y="215" font-family="Consolas, monospace" font-size="9" fill="#c9a227">id</text>
  <text x="500" y="215" font-family="Consolas, monospace" font-size="9" fill="#888">INTEGER PK</text>
  <text x="475" y="230" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">url</text>
  <text x="505" y="230" font-family="Consolas, monospace" font-size="9" fill="#888">TEXT</text>
  <text x="475" y="245" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">priority</text>
  <text x="535" y="245" font-family="Consolas, monospace" font-size="9" fill="#888">INTEGER</text>
  <text x="475" y="260" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">depth</text>
  <text x="520" y="260" font-family="Consolas, monospace" font-size="9" fill="#888">INTEGER</text>
  <text x="475" y="275" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">status</text>
  <text x="525" y="275" font-family="Consolas, monospace" font-size="9" fill="#888">TEXT</text>
  
  <!-- crawl_sessions table -->
  <rect x="465" y="295" width="210" height="95" rx="4" fill="rgba(0,0,0,0.3)" stroke="rgba(139,32,32,0.6)" stroke-width="1"/>
  <rect x="465" y="295" width="210" height="22" rx="4" fill="url(#crawlGrad)"/>
  <text x="570" y="310" text-anchor="middle" font-family="Consolas, monospace" font-size="11" font-weight="600" fill="#e8e8e8">crawl_sessions</text>
  <text x="475" y="332" font-family="Consolas, monospace" font-size="9" fill="#c9a227">id</text>
  <text x="500" y="332" font-family="Consolas, monospace" font-size="9" fill="#888">INTEGER PK</text>
  <text x="475" y="347" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">started_at</text>
  <text x="555" y="347" font-family="Consolas, monospace" font-size="9" fill="#888">DATETIME</text>
  <text x="475" y="362" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">pages_crawled</text>
  <text x="580" y="362" font-family="Consolas, monospace" font-size="9" fill="#888">INTEGER</text>
  <text x="475" y="377" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">status</text>
  <text x="525" y="377" font-family="Consolas, monospace" font-size="9" fill="#888">TEXT</text>
  
  <!-- task_events table -->
  <rect x="465" y="402" width="210" height="95" rx="4" fill="rgba(0,0,0,0.3)" stroke="rgba(90,61,138,0.6)" stroke-width="1"/>
  <rect x="465" y="402" width="210" height="22" rx="4" fill="url(#telemetryGrad)"/>
  <text x="570" y="417" text-anchor="middle" font-family="Consolas, monospace" font-size="11" font-weight="600" fill="#e8e8e8">task_events</text>
  <text x="475" y="439" font-family="Consolas, monospace" font-size="9" fill="#c9a227">seq</text>
  <text x="505" y="439" font-family="Consolas, monospace" font-size="9" fill="#888">INTEGER PK</text>
  <text x="475" y="454" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">task_id</text>
  <text x="535" y="454" font-family="Consolas, monospace" font-size="9" fill="#888">TEXT</text>
  <text x="475" y="469" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">event_type</text>
  <text x="555" y="469" font-family="Consolas, monospace" font-size="9" fill="#888">TEXT</text>
  <text x="475" y="484" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">severity, data_json</text>
  
  <text x="45" y="505" font-family="Segoe UI, Arial" font-size="9" fill="#c9a227" letter-spacing="1">HUB DISCOVERY</text>
  
  <!-- place_hubs table -->
  <rect x="45" y="515" width="195" height="100" rx="4" fill="rgba(0,0,0,0.3)" stroke="rgba(42,90,138,0.6)" stroke-width="1"/>
  <rect x="45" y="515" width="195" height="22" rx="4" fill="url(#hubGrad)"/>
  <text x="142" y="530" text-anchor="middle" font-family="Consolas, monospace" font-size="11" font-weight="600" fill="#e8e8e8">place_hubs</text>
  <text x="55" y="552" font-family="Consolas, monospace" font-size="9" fill="#c9a227">id</text>
  <text x="80" y="552" font-family="Consolas, monospace" font-size="9" fill="#888">INTEGER PK</text>
  <text x="55" y="567" font-family="Consolas, monospace" font-size="9" fill="#4fc3f7">geoname_id</text>
  <text x="135" y="567" font-family="Consolas, monospace" font-size="9" fill="#888">FK geo</text>
  <text x="55" y="582" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">hub_url</text>
  <text x="115" y="582" font-family="Consolas, monospace" font-size="9" fill="#888">TEXT</text>
  <text x="55" y="597" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">host, status</text>
  <text x="135" y="597" font-family="Consolas, monospace" font-size="9" fill="#888">TEXT</text>
  
  <!-- hub_candidates table -->
  <rect x="255" y="515" width="195" height="100" rx="4" fill="rgba(0,0,0,0.3)" stroke="rgba(42,90,138,0.6)" stroke-width="1"/>
  <rect x="255" y="515" width="195" height="22" rx="4" fill="url(#hubGrad)"/>
  <text x="352" y="530" text-anchor="middle" font-family="Consolas, monospace" font-size="11" font-weight="600" fill="#e8e8e8">hub_candidates</text>
  <text x="265" y="552" font-family="Consolas, monospace" font-size="9" fill="#c9a227">id</text>
  <text x="290" y="552" font-family="Consolas, monospace" font-size="9" fill="#888">INTEGER PK</text>
  <text x="265" y="567" font-family="Consolas, monospace" font-size="9" fill="#4fc3f7">geoname_id</text>
  <text x="345" y="567" font-family="Consolas, monospace" font-size="9" fill="#888">FK geo</text>
  <text x="265" y="582" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">candidate_url</text>
  <text x="360" y="582" font-family="Consolas, monospace" font-size="9" fill="#888">TEXT</text>
  <text x="265" y="597" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">score</text>
  <text x="310" y="597" font-family="Consolas, monospace" font-size="9" fill="#888">REAL</text>
  
  <!-- news.db indexes -->
  <rect x="45" y="635" width="630" height="55" rx="4" fill="rgba(0,0,0,0.4)" stroke="rgba(201,162,39,0.2)"/>
  <text x="360" y="655" text-anchor="middle" font-family="Segoe UI, Arial" font-size="10" font-weight="600" fill="#c9a227">25 B-TREE INDEXES</text>
  <text x="360" y="672" text-anchor="middle" font-family="Consolas, monospace" font-size="8" fill="#888">pages(url, host, crawled_at) - page_places(page_id, geoname_id) - page_facts(page_id, fact_type)</text>
  <text x="360" y="685" text-anchor="middle" font-family="Consolas, monospace" font-size="8" fill="#888">crawl_queue(priority, status) - place_hubs(geoname_id, host)</text>
  
  <!-- Adapter note -->
  <rect x="45" y="700" width="630" height="30" rx="4" fill="rgba(201,162,39,0.1)" stroke="rgba(201,162,39,0.3)"/>
  <text x="360" y="720" text-anchor="middle" font-family="Consolas, monospace" font-size="9" fill="#c9a227">src/db/sqlite/v1/newsDbAdapter.js - queueDbAdapter.js - telemetryDbAdapter.js - hubDbAdapter.js</text>
  
  <!-- News.db metrics -->
  <text x="60" y="760" font-family="Segoe UI, Arial" font-size="10" fill="#e8e8e8">Write:</text>
  <text x="100" y="760" font-family="Segoe UI, Arial" font-size="10" fill="#c9a227">5K rows/sec</text>
  <text x="220" y="760" font-family="Segoe UI, Arial" font-size="10" fill="#e8e8e8">Read:</text>
  <text x="260" y="760" font-family="Segoe UI, Arial" font-size="10" fill="#c9a227">~1ms</text>
  <text x="350" y="760" font-family="Segoe UI, Arial" font-size="10" fill="#e8e8e8">WAL Mode</text>
  <text x="480" y="760" font-family="Segoe UI, Arial" font-size="10" fill="#e8e8e8">25+ indexes</text>
  
  <!-- gazetteer.db container -->
  <rect x="710" y="95" width="665" height="700" rx="8" fill="url(#geoDbGrad)" stroke="rgba(25,135,84,0.3)" stroke-width="1"/>
  <rect x="710" y="95" width="665" height="32" rx="8" fill="rgba(25,135,84,0.15)"/>
  <text x="1042" y="117" text-anchor="middle" font-family="Segoe UI, Arial" font-size="16" font-weight="600" fill="#4ade80" letter-spacing="2" filter="url(#softGlow)">GAZETTEER.DB</text>
  <text x="1042" y="138" text-anchor="middle" font-family="Segoe UI, Arial" font-size="10" fill="#888">~1.2 GB - GeoNames Reference Data</text>
  
  <text x="730" y="168" font-family="Segoe UI, Arial" font-size="9" fill="#4ade80" letter-spacing="1">GEONAMES CORE</text>
  
  <!-- geonames table -->
  <rect x="730" y="178" width="215" height="195" rx="4" fill="rgba(0,0,0,0.3)" stroke="rgba(25,135,84,0.6)" stroke-width="1"/>
  <rect x="730" y="178" width="215" height="22" rx="4" fill="url(#geoGrad)"/>
  <text x="837" y="193" text-anchor="middle" font-family="Consolas, monospace" font-size="11" font-weight="600" fill="#e8e8e8">geonames</text>
  <text x="740" y="215" font-family="Consolas, monospace" font-size="9" fill="#c9a227">geoname_id</text>
  <text x="825" y="215" font-family="Consolas, monospace" font-size="9" fill="#888">INTEGER PK</text>
  <text x="740" y="230" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">name</text>
  <text x="785" y="230" font-family="Consolas, monospace" font-size="9" fill="#888">TEXT</text>
  <text x="740" y="245" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">ascii_name</text>
  <text x="825" y="245" font-family="Consolas, monospace" font-size="9" fill="#888">TEXT</text>
  <text x="740" y="260" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">latitude</text>
  <text x="810" y="260" font-family="Consolas, monospace" font-size="9" fill="#888">REAL</text>
  <text x="740" y="275" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">longitude</text>
  <text x="820" y="275" font-family="Consolas, monospace" font-size="9" fill="#888">REAL</text>
  <text x="740" y="290" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">feature_class</text>
  <text x="845" y="290" font-family="Consolas, monospace" font-size="9" fill="#888">TEXT</text>
  <text x="740" y="305" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">feature_code</text>
  <text x="845" y="305" font-family="Consolas, monospace" font-size="9" fill="#888">TEXT</text>
  <text x="740" y="320" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">country_code</text>
  <text x="845" y="320" font-family="Consolas, monospace" font-size="9" fill="#888">TEXT</text>
  <text x="740" y="335" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">admin1_code</text>
  <text x="840" y="335" font-family="Consolas, monospace" font-size="9" fill="#888">TEXT</text>
  <text x="740" y="350" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">population</text>
  <text x="825" y="350" font-family="Consolas, monospace" font-size="9" fill="#888">INTEGER</text>
  <text x="837" y="370" text-anchor="middle" font-family="Consolas, monospace" font-size="8" fill="#6a6a6a">5.2M rows</text>
  
  <!-- alternate_names table -->
  <rect x="960" y="178" width="215" height="175" rx="4" fill="rgba(0,0,0,0.3)" stroke="rgba(25,135,84,0.6)" stroke-width="1"/>
  <rect x="960" y="178" width="215" height="22" rx="4" fill="url(#geoGrad)"/>
  <text x="1067" y="193" text-anchor="middle" font-family="Consolas, monospace" font-size="11" font-weight="600" fill="#e8e8e8">alternate_names</text>
  <text x="970" y="215" font-family="Consolas, monospace" font-size="9" fill="#c9a227">alternate_id</text>
  <text x="1055" y="215" font-family="Consolas, monospace" font-size="9" fill="#888">INTEGER PK</text>
  <text x="970" y="230" font-family="Consolas, monospace" font-size="9" fill="#ff9800">geoname_id</text>
  <text x="1060" y="230" font-family="Consolas, monospace" font-size="9" fill="#888">FK geonames</text>
  <text x="970" y="245" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">iso_language</text>
  <text x="1065" y="245" font-family="Consolas, monospace" font-size="9" fill="#888">TEXT</text>
  <text x="970" y="260" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">alternate_name</text>
  <text x="1080" y="260" font-family="Consolas, monospace" font-size="9" fill="#888">TEXT</text>
  <text x="970" y="275" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">is_preferred</text>
  <text x="1070" y="275" font-family="Consolas, monospace" font-size="9" fill="#888">INTEGER</text>
  <text x="970" y="290" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">is_short</text>
  <text x="1045" y="290" font-family="Consolas, monospace" font-size="9" fill="#888">INTEGER</text>
  <text x="970" y="305" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">is_colloquial</text>
  <text x="1070" y="305" font-family="Consolas, monospace" font-size="9" fill="#888">INTEGER</text>
  <text x="1067" y="350" text-anchor="middle" font-family="Consolas, monospace" font-size="8" fill="#6a6a6a">15M rows - Multi-language names</text>
  
  <text x="730" y="400" font-family="Segoe UI, Arial" font-size="9" fill="#a78bfa" letter-spacing="1">ADMINISTRATIVE HIERARCHY</text>
  
  <!-- admin1_codes table -->
  <rect x="730" y="410" width="215" height="100" rx="4" fill="rgba(0,0,0,0.3)" stroke="rgba(102,16,242,0.6)" stroke-width="1"/>
  <rect x="730" y="410" width="215" height="22" rx="4" fill="url(#hierGrad)"/>
  <text x="837" y="425" text-anchor="middle" font-family="Consolas, monospace" font-size="11" font-weight="600" fill="#e8e8e8">admin1_codes</text>
  <text x="740" y="447" font-family="Consolas, monospace" font-size="9" fill="#c9a227">code</text>
  <text x="775" y="447" font-family="Consolas, monospace" font-size="9" fill="#888">TEXT PK</text>
  <text x="740" y="462" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">name</text>
  <text x="785" y="462" font-family="Consolas, monospace" font-size="9" fill="#888">TEXT</text>
  <text x="740" y="477" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">ascii_name</text>
  <text x="825" y="477" font-family="Consolas, monospace" font-size="9" fill="#888">TEXT</text>
  <text x="740" y="492" font-family="Consolas, monospace" font-size="9" fill="#ff9800">geoname_id</text>
  <text x="830" y="492" font-family="Consolas, monospace" font-size="9" fill="#888">FK geonames</text>
  <text x="837" y="507" text-anchor="middle" font-family="Consolas, monospace" font-size="8" fill="#6a6a6a">States / Provinces</text>
  
  <!-- country_info table -->
  <rect x="960" y="410" width="215" height="100" rx="4" fill="rgba(0,0,0,0.3)" stroke="rgba(102,16,242,0.6)" stroke-width="1"/>
  <rect x="960" y="410" width="215" height="22" rx="4" fill="url(#hierGrad)"/>
  <text x="1067" y="425" text-anchor="middle" font-family="Consolas, monospace" font-size="11" font-weight="600" fill="#e8e8e8">country_info</text>
  <text x="970" y="447" font-family="Consolas, monospace" font-size="9" fill="#c9a227">iso</text>
  <text x="1000" y="447" font-family="Consolas, monospace" font-size="9" fill="#888">TEXT PK</text>
  <text x="970" y="462" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">iso3</text>
  <text x="1010" y="462" font-family="Consolas, monospace" font-size="9" fill="#888">TEXT</text>
  <text x="970" y="477" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">country</text>
  <text x="1030" y="477" font-family="Consolas, monospace" font-size="9" fill="#888">TEXT</text>
  <text x="970" y="492" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">capital</text>
  <text x="1025" y="492" font-family="Consolas, monospace" font-size="9" fill="#888">TEXT</text>
  <text x="1067" y="507" text-anchor="middle" font-family="Consolas, monospace" font-size="8" fill="#6a6a6a">252 countries</text>
  
  <text x="730" y="535" font-family="Segoe UI, Arial" font-size="9" fill="#f472b6" letter-spacing="1">FULL-TEXT SEARCH</text>
  
  <!-- geonames_fts table -->
  <rect x="730" y="545" width="445" height="75" rx="4" fill="rgba(0,0,0,0.3)" stroke="rgba(214,51,132,0.6)" stroke-width="1"/>
  <rect x="730" y="545" width="445" height="22" rx="4" fill="url(#ftsGrad)"/>
  <text x="952" y="560" text-anchor="middle" font-family="Consolas, monospace" font-size="11" font-weight="600" fill="#e8e8e8">geonames_fts (FTS5 Virtual Table)</text>
  <text x="740" y="585" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">Full-text search on: name, ascii_name, alternate_names</text>
  <text x="740" y="602" font-family="Consolas, monospace" font-size="9" fill="#888">SELECT * FROM geonames_fts WHERE geonames_fts MATCH 'london*'</text>
  <text x="740" y="617" font-family="Consolas, monospace" font-size="8" fill="#f472b6">Fast prefix matching for place name autocomplete - ~2ms lookup</text>
  
  <!-- gazetteer.db indexes -->
  <rect x="730" y="635" width="445" height="55" rx="4" fill="rgba(0,0,0,0.4)" stroke="rgba(25,135,84,0.2)"/>
  <text x="952" y="655" text-anchor="middle" font-family="Segoe UI, Arial" font-size="10" font-weight="600" fill="#4ade80">12 B-TREE INDEXES + 1 FTS5</text>
  <text x="952" y="672" text-anchor="middle" font-family="Consolas, monospace" font-size="8" fill="#888">geonames(name, country_code, feature_class) - alternate_names(geoname_id, iso_language)</text>
  <text x="952" y="685" text-anchor="middle" font-family="Consolas, monospace" font-size="8" fill="#888">admin1_codes(code) - country_info(iso, iso3)</text>
  
  <!-- Adapter note -->
  <rect x="730" y="700" width="445" height="30" rx="4" fill="rgba(25,135,84,0.1)" stroke="rgba(25,135,84,0.3)"/>
  <text x="952" y="720" text-anchor="middle" font-family="Consolas, monospace" font-size="9" fill="#4ade80">src/db/sqlite/v1/gazetteerDbAdapter.js - Read-only in production</text>
  
  <!-- Feature codes legend -->
  <rect x="730" y="740" width="445" height="50" rx="4" fill="rgba(0,0,0,0.3)" stroke="rgba(255,255,255,0.1)"/>
  <text x="740" y="757" font-family="Segoe UI, Arial" font-size="9" fill="#888">Feature Codes:</text>
  <text x="840" y="757" font-family="Consolas, monospace" font-size="8" fill="#4ade80">A</text>
  <text x="855" y="757" font-family="Consolas, monospace" font-size="8" fill="#888">Country/State</text>
  <text x="950" y="757" font-family="Consolas, monospace" font-size="8" fill="#4ade80">P</text>
  <text x="965" y="757" font-family="Consolas, monospace" font-size="8" fill="#888">City/Village</text>
  <text x="1050" y="757" font-family="Consolas, monospace" font-size="8" fill="#4ade80">H</text>
  <text x="1065" y="757" font-family="Consolas, monospace" font-size="8" fill="#888">Water</text>
  <text x="1120" y="757" font-family="Consolas, monospace" font-size="8" fill="#4ade80">L</text>
  <text x="1135" y="757" font-family="Consolas, monospace" font-size="8" fill="#888">Parks</text>
  <text x="740" y="775" font-family="Consolas, monospace" font-size="8" fill="#4ade80">R</text>
  <text x="755" y="775" font-family="Consolas, monospace" font-size="8" fill="#888">Roads</text>
  <text x="810" y="775" font-family="Consolas, monospace" font-size="8" fill="#4ade80">S</text>
  <text x="825" y="775" font-family="Consolas, monospace" font-size="8" fill="#888">Spots/Buildings</text>
  <text x="940" y="775" font-family="Consolas, monospace" font-size="8" fill="#4ade80">T</text>
  <text x="955" y="775" font-family="Consolas, monospace" font-size="8" fill="#888">Mountains/Hills</text>
  <text x="1080" y="775" font-family="Consolas, monospace" font-size="8" fill="#4ade80">U</text>
  <text x="1095" y="775" font-family="Consolas, monospace" font-size="8" fill="#888">Undersea</text>
  
  <!-- Cross-database bridge -->
  <rect x="280" y="815" width="840" height="65" rx="6" fill="rgba(0,0,0,0.5)" stroke="url(#goldGrad)" stroke-width="2"/>
  <text x="700" y="840" text-anchor="middle" font-family="Segoe UI, Arial" font-size="12" font-weight="600" fill="#c9a227" letter-spacing="1">CROSS-DATABASE JOIN STRATEGY</text>
  <text x="700" y="858" text-anchor="middle" font-family="Consolas, monospace" font-size="10" fill="#e8e8e8">ATTACH DATABASE 'data/gazetteer.db' AS geo;</text>
  <text x="700" y="873" text-anchor="middle" font-family="Consolas, monospace" font-size="9" fill="#888">SELECT p.*, g.name FROM pages p JOIN page_places pp ON ... JOIN geo.geonames g ON pp.geoname_id = g.geoname_id</text>
  
  <!-- Connection arrow from page_places to geonames -->
  <path d="M 450 250 C 580 250 580 350 700 350 C 780 350 780 280 837 280" stroke="#4fc3f7" stroke-width="2" fill="none" stroke-dasharray="6,3"/>
  <circle cx="450" cy="250" r="4" fill="#4fc3f7"/>
  <circle cx="837" cy="280" r="4" fill="#4fc3f7"/>
  <text x="600" y="300" font-family="Segoe UI, Arial" font-size="9" fill="#4fc3f7" font-weight="600">geoname_id FK</text>
  
  <!-- Footer metrics -->
  <line x1="100" y1="905" x2="1300" y2="905" stroke="rgba(201,162,39,0.3)" stroke-width="1"/>
  <text x="700" y="930" text-anchor="middle" font-family="Segoe UI, Arial" font-size="10" fill="#888" letter-spacing="1">DUAL SQLITE ARCHITECTURE - ZERO EXTERNAL DEPENDENCIES - LOCAL-FIRST DATA LAYER</text>
  
</svg>