<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1400 1000">
  <defs>
    <linearGradient id="bgGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#0a0a0f"/>
      <stop offset="100%" style="stop-color:#1a1a2e"/>
    </linearGradient>
    <linearGradient id="wikidataGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#2a5a8a"/>
      <stop offset="100%" style="stop-color:#1a3a5a"/>
    </linearGradient>
    <linearGradient id="osmGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#198754"/>
      <stop offset="100%" style="stop-color:#0d5a35"/>
    </linearGradient>
    <linearGradient id="geonamesGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#8b7320"/>
      <stop offset="100%" style="stop-color:#5a4a15"/>
    </linearGradient>
    <linearGradient id="hierGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#6610f2"/>
      <stop offset="100%" style="stop-color:#4a0cb0"/>
    </linearGradient>
    <linearGradient id="ftsGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#d63384"/>
      <stop offset="100%" style="stop-color:#8a2058"/>
    </linearGradient>
    <linearGradient id="orchGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#5a4a15"/>
      <stop offset="100%" style="stop-color:#3a3010"/>
    </linearGradient>
    <linearGradient id="queryGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#5a3d8a"/>
      <stop offset="100%" style="stop-color:#3a2a5a"/>
    </linearGradient>
    <linearGradient id="goldGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#8b7320"/>
      <stop offset="50%" style="stop-color:#c9a227"/>
      <stop offset="100%" style="stop-color:#8b7320"/>
    </linearGradient>
    <linearGradient id="stageGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#1a3a1a"/>
      <stop offset="100%" style="stop-color:#0d2a0d"/>
    </linearGradient>
    <filter id="glow" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur stdDeviation="2" result="blur"/>
      <feMerge>
        <feMergeNode in="blur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    <filter id="softGlow" x="-10%" y="-10%" width="120%" height="120%">
      <feGaussianBlur stdDeviation="1" result="blur"/>
      <feMerge>
        <feMergeNode in="blur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>
  
  <rect width="1400" height="1000" fill="url(#bgGrad)"/>
  
  <!-- Grid lines -->
  <g stroke="rgba(255,255,255,0.03)" stroke-width="1">
    <line x1="0" y1="100" x2="1400" y2="100"/>
    <line x1="0" y1="200" x2="1400" y2="200"/>
    <line x1="0" y1="400" x2="1400" y2="400"/>
    <line x1="0" y1="600" x2="1400" y2="600"/>
    <line x1="0" y1="800" x2="1400" y2="800"/>
    <line x1="700" y1="0" x2="700" y2="1000"/>
  </g>
  
  <!-- Corner accents -->
  <path d="M 20 8 L 20 20 L 8 20" stroke="#c9a227" stroke-width="2" fill="none" filter="url(#glow)"/>
  <path d="M 1380 8 L 1380 20 L 1392 20" stroke="#c9a227" stroke-width="2" fill="none" filter="url(#glow)"/>
  <path d="M 20 992 L 20 980 L 8 980" stroke="#c9a227" stroke-width="2" fill="none" filter="url(#glow)"/>
  <path d="M 1380 992 L 1380 980 L 1392 980" stroke="#c9a227" stroke-width="2" fill="none" filter="url(#glow)"/>
  
  <!-- Title -->
  <text x="700" y="42" text-anchor="middle" font-family="Segoe UI, Arial" font-size="26" font-weight="600" fill="#e8e8e8" letter-spacing="3" filter="url(#softGlow)">GAZETTEER DATABASE LAYER</text>
  <line x1="450" y1="52" x2="950" y2="52" stroke="url(#goldGrad)" stroke-width="1"/>
  <text x="700" y="72" text-anchor="middle" font-family="Segoe UI, Arial" font-size="11" fill="#888" letter-spacing="2">MULTI-SOURCE GEOGRAPHIC DATA INGESTION PIPELINE</text>
  
  <!-- External Data Sources -->
  <rect x="50" y="90" width="1300" height="110" rx="8" fill="rgba(0,0,0,0.4)" stroke="rgba(201,162,39,0.3)" stroke-width="1"/>
  <text x="700" y="115" text-anchor="middle" font-family="Segoe UI, Arial" font-size="12" font-weight="600" fill="#c9a227" letter-spacing="2">EXTERNAL DATA SOURCES</text>
  
  <rect x="70" y="128" width="170" height="60" rx="4" fill="rgba(42,90,138,0.3)" stroke="rgba(42,90,138,0.6)"/>
  <text x="155" y="150" text-anchor="middle" font-family="Segoe UI, Arial" font-size="11" font-weight="600" fill="#6fa8dc" filter="url(#softGlow)">Wikidata SPARQL</text>
  <text x="155" y="167" text-anchor="middle" font-family="Consolas, monospace" font-size="9" fill="#888">Countries, ADM1, Cities</text>
  <text x="155" y="182" text-anchor="middle" font-family="Consolas, monospace" font-size="8" fill="#666">query.wikidata.org</text>
  
  <rect x="255" y="128" width="170" height="60" rx="4" fill="rgba(25,135,84,0.3)" stroke="rgba(25,135,84,0.6)"/>
  <text x="340" y="150" text-anchor="middle" font-family="Segoe UI, Arial" font-size="11" font-weight="600" fill="#4ade80" filter="url(#softGlow)">OpenStreetMap</text>
  <text x="340" y="167" text-anchor="middle" font-family="Consolas, monospace" font-size="9" fill="#888">Boundary Polygons</text>
  <text x="340" y="182" text-anchor="middle" font-family="Consolas, monospace" font-size="8" fill="#666">overpass-api.de</text>
  
  <rect x="440" y="128" width="170" height="60" rx="4" fill="rgba(139,115,32,0.3)" stroke="rgba(139,115,32,0.6)"/>
  <text x="525" y="150" text-anchor="middle" font-family="Segoe UI, Arial" font-size="11" font-weight="600" fill="#c9a227" filter="url(#softGlow)">GeoNames</text>
  <text x="525" y="167" text-anchor="middle" font-family="Consolas, monospace" font-size="9" fill="#888">5.2M Place Records</text>
  <text x="525" y="182" text-anchor="middle" font-family="Consolas, monospace" font-size="8" fill="#666">download.geonames.org</text>
  
  <rect x="625" y="128" width="170" height="60" rx="4" fill="rgba(214,51,132,0.2)" stroke="rgba(214,51,132,0.5)"/>
  <text x="710" y="150" text-anchor="middle" font-family="Segoe UI, Arial" font-size="11" font-weight="600" fill="#f472b6" filter="url(#softGlow)">REST Countries</text>
  <text x="710" y="167" text-anchor="middle" font-family="Consolas, monospace" font-size="9" fill="#888">Country Metadata</text>
  <text x="710" y="182" text-anchor="middle" font-family="Consolas, monospace" font-size="8" fill="#666">restcountries.com</text>
  
  <rect x="810" y="128" width="170" height="60" rx="4" fill="rgba(102,16,242,0.2)" stroke="rgba(102,16,242,0.5)"/>
  <text x="895" y="150" text-anchor="middle" font-family="Segoe UI, Arial" font-size="11" font-weight="600" fill="#a78bfa" filter="url(#softGlow)">Natural Earth</text>
  <text x="895" y="167" text-anchor="middle" font-family="Consolas, monospace" font-size="9" fill="#888">Admin Boundaries</text>
  <text x="895" y="182" text-anchor="middle" font-family="Consolas, monospace" font-size="8" fill="#666">naturalearthdata.com</text>
  
  <rect x="995" y="128" width="170" height="60" rx="4" fill="rgba(0,188,212,0.2)" stroke="rgba(0,188,212,0.5)"/>
  <text x="1080" y="150" text-anchor="middle" font-family="Segoe UI, Arial" font-size="11" font-weight="600" fill="#22d3ee" filter="url(#softGlow)">Local Cache</text>
  <text x="1080" y="167" text-anchor="middle" font-family="Consolas, monospace" font-size="9" fill="#888">Offline Fallback</text>
  <text x="1080" y="182" text-anchor="middle" font-family="Consolas, monospace" font-size="8" fill="#666">data/cache/gazetteer</text>
  
  <rect x="1180" y="128" width="150" height="60" rx="4" fill="rgba(255,255,255,0.05)" stroke="rgba(255,255,255,0.2)"/>
  <text x="1255" y="150" text-anchor="middle" font-family="Segoe UI, Arial" font-size="11" font-weight="600" fill="#e8e8e8">WikidataService</text>
  <text x="1255" y="167" text-anchor="middle" font-family="Consolas, monospace" font-size="9" fill="#888">HTTP Facade</text>
  <text x="1255" y="182" text-anchor="middle" font-family="Consolas, monospace" font-size="8" fill="#666">Retry + Cache</text>
  
  <!-- Arrows from sources -->
  <path d="M 155 188 L 155 212" stroke="#6fa8dc" stroke-width="2" stroke-dasharray="4,2"/>
  <path d="M 340 188 L 340 212" stroke="#4ade80" stroke-width="2" stroke-dasharray="4,2"/>
  <path d="M 525 188 L 525 212" stroke="#c9a227" stroke-width="2" stroke-dasharray="4,2"/>
  
  <!-- Ingestor Layer -->
  <rect x="50" y="212" width="620" height="175" rx="8" fill="rgba(42,90,138,0.1)" stroke="rgba(42,90,138,0.4)" stroke-width="1"/>
  <text x="360" y="235" text-anchor="middle" font-family="Segoe UI, Arial" font-size="11" font-weight="600" fill="#6fa8dc" letter-spacing="1">INGESTORS (src/core/crawler/gazetteer/ingestors)</text>
  
  <rect x="65" y="250" width="185" height="125" rx="4" fill="rgba(0,0,0,0.4)" stroke="rgba(42,90,138,0.6)"/>
  <rect x="65" y="250" width="185" height="22" rx="4" fill="url(#wikidataGrad)"/>
  <text x="157" y="265" text-anchor="middle" font-family="Consolas, monospace" font-size="9" font-weight="600" fill="#e8e8e8">WikidataCountryIngestor</text>
  <text x="75" y="288" font-family="Consolas, monospace" font-size="9" fill="#6fa8dc">Stage: countries</text>
  <text x="75" y="303" font-family="Consolas, monospace" font-size="9" fill="#c9a227">Priority: 1000</text>
  <text x="75" y="318" font-family="Consolas, monospace" font-size="9" fill="#888">Depth: 0</text>
  <text x="75" y="340" font-family="Consolas, monospace" font-size="8" fill="#666">SPARQL query for all</text>
  <text x="75" y="353" font-family="Consolas, monospace" font-size="8" fill="#666">sovereign states with</text>
  <text x="75" y="366" font-family="Consolas, monospace" font-size="8" fill="#666">ISO codes, capitals</text>
  
  <rect x="265" y="250" width="185" height="125" rx="4" fill="rgba(0,0,0,0.4)" stroke="rgba(42,90,138,0.6)"/>
  <rect x="265" y="250" width="185" height="22" rx="4" fill="url(#wikidataGrad)"/>
  <text x="357" y="265" text-anchor="middle" font-family="Consolas, monospace" font-size="9" font-weight="600" fill="#e8e8e8">WikidataAdm1Ingestor</text>
  <text x="275" y="288" font-family="Consolas, monospace" font-size="9" fill="#6fa8dc">Stage: adm1</text>
  <text x="275" y="303" font-family="Consolas, monospace" font-size="9" fill="#c9a227">Priority: 100</text>
  <text x="275" y="318" font-family="Consolas, monospace" font-size="9" fill="#888">Depth: 1</text>
  <text x="275" y="340" font-family="Consolas, monospace" font-size="8" fill="#666">States, Provinces,</text>
  <text x="275" y="353" font-family="Consolas, monospace" font-size="8" fill="#666">Regions per country</text>
  <text x="275" y="366" font-family="Consolas, monospace" font-size="8" fill="#666">useDynamicFetch: true</text>
  
  <rect x="465" y="250" width="185" height="125" rx="4" fill="rgba(0,0,0,0.4)" stroke="rgba(42,90,138,0.6)"/>
  <rect x="465" y="250" width="185" height="22" rx="4" fill="url(#wikidataGrad)"/>
  <text x="557" y="265" text-anchor="middle" font-family="Consolas, monospace" font-size="9" font-weight="600" fill="#e8e8e8">WikidataCitiesIngestor</text>
  <text x="475" y="288" font-family="Consolas, monospace" font-size="9" fill="#6fa8dc">Stage: cities</text>
  <text x="475" y="303" font-family="Consolas, monospace" font-size="9" fill="#c9a227">Priority: 90</text>
  <text x="475" y="318" font-family="Consolas, monospace" font-size="9" fill="#888">Depth: 2</text>
  <text x="475" y="340" font-family="Consolas, monospace" font-size="8" fill="#666">maxCitiesPerCountry: 200</text>
  <text x="475" y="353" font-family="Consolas, monospace" font-size="8" fill="#666">minPopulation: 10000</text>
  <text x="475" y="366" font-family="Consolas, monospace" font-size="8" fill="#666">Population-ranked</text>
  
  <!-- OSM Ingestor -->
  <rect x="690" y="212" width="210" height="175" rx="8" fill="rgba(25,135,84,0.1)" stroke="rgba(25,135,84,0.4)" stroke-width="1"/>
  <text x="795" y="235" text-anchor="middle" font-family="Segoe UI, Arial" font-size="10" font-weight="600" fill="#4ade80" letter-spacing="1">OSM INGESTOR</text>
  
  <rect x="705" y="250" width="180" height="125" rx="4" fill="rgba(0,0,0,0.4)" stroke="rgba(25,135,84,0.6)"/>
  <rect x="705" y="250" width="180" height="22" rx="4" fill="url(#osmGrad)"/>
  <text x="795" y="265" text-anchor="middle" font-family="Consolas, monospace" font-size="9" font-weight="600" fill="#e8e8e8">OsmBoundaryIngestor</text>
  <text x="715" y="288" font-family="Consolas, monospace" font-size="9" fill="#4ade80">Stage: boundaries</text>
  <text x="715" y="303" font-family="Consolas, monospace" font-size="9" fill="#c9a227">Priority: 80</text>
  <text x="715" y="318" font-family="Consolas, monospace" font-size="9" fill="#888">Depth: 1</text>
  <text x="715" y="340" font-family="Consolas, monospace" font-size="8" fill="#666">GeoJSON polygons</text>
  <text x="715" y="353" font-family="Consolas, monospace" font-size="8" fill="#666">Overpass QL queries</text>
  <text x="715" y="366" font-family="Consolas, monospace" font-size="8" fill="#666">Rate-limited batches</text>
  
  <!-- Stage Pipeline -->
  <rect x="920" y="212" width="430" height="175" rx="8" fill="url(#stageGrad)" stroke="rgba(25,135,84,0.5)" stroke-width="1"/>
  <text x="1135" y="235" text-anchor="middle" font-family="Segoe UI, Arial" font-size="11" font-weight="600" fill="#4ade80" letter-spacing="1" filter="url(#softGlow)">STAGED INGESTION PIPELINE</text>
  
  <rect x="940" y="250" width="390" height="32" rx="4" fill="rgba(0,0,0,0.5)" stroke="rgba(27,94,32,0.8)"/>
  <text x="960" y="268" font-family="Segoe UI, Arial" font-size="10" font-weight="600" fill="#81c784">Stage 0: countries</text>
  <text x="1100" y="268" font-family="Consolas, monospace" font-size="9" fill="#888">Priority 1000 - All sovereign states</text>
  
  <path d="M 1135 282 L 1135 290" stroke="#4ade80" stroke-width="2"/>
  <polygon points="1130,290 1140,290 1135,298" fill="#4ade80"/>
  
  <rect x="940" y="300" width="390" height="32" rx="4" fill="rgba(0,0,0,0.5)" stroke="rgba(46,125,50,0.8)"/>
  <text x="960" y="318" font-family="Segoe UI, Arial" font-size="10" font-weight="600" fill="#a5d6a7">Stage 1: adm1</text>
  <text x="1100" y="318" font-family="Consolas, monospace" font-size="9" fill="#888">Priority 100 - States/Provinces</text>
  
  <path d="M 1135 332 L 1135 340" stroke="#4ade80" stroke-width="2"/>
  <polygon points="1130,340 1140,340 1135,348" fill="#4ade80"/>
  
  <rect x="940" y="350" width="390" height="32" rx="4" fill="rgba(0,0,0,0.5)" stroke="rgba(56,142,60,0.8)"/>
  <text x="960" y="368" font-family="Segoe UI, Arial" font-size="10" font-weight="600" fill="#c8e6c9">Stage 2: cities</text>
  <text x="1100" y="368" font-family="Consolas, monospace" font-size="9" fill="#888">Priority 90 - Major cities (pop &gt; 10k)</text>
  
  <!-- Orchestration Layer -->
  <rect x="50" y="405" width="850" height="110" rx="8" fill="rgba(139,115,32,0.1)" stroke="rgba(201,162,39,0.4)" stroke-width="1"/>
  <text x="475" y="428" text-anchor="middle" font-family="Segoe UI, Arial" font-size="11" font-weight="600" fill="#c9a227" letter-spacing="1">ORCHESTRATION (src/core/crawler/gazetteer)</text>
  
  <rect x="65" y="445" width="195" height="58" rx="4" fill="rgba(0,0,0,0.4)" stroke="rgba(201,162,39,0.5)"/>
  <text x="162" y="468" text-anchor="middle" font-family="Consolas, monospace" font-size="10" font-weight="600" fill="#e8e8e8">GazetteerManager</text>
  <text x="162" y="485" text-anchor="middle" font-family="Consolas, monospace" font-size="8" fill="#888">Pipeline config + Crawler integration</text>
  
  <rect x="275" y="445" width="195" height="58" rx="4" fill="rgba(0,0,0,0.4)" stroke="rgba(201,162,39,0.5)"/>
  <text x="372" y="468" text-anchor="middle" font-family="Consolas, monospace" font-size="9" font-weight="600" fill="#e8e8e8">StagedGazetteerCoordinator</text>
  <text x="372" y="485" text-anchor="middle" font-family="Consolas, monospace" font-size="8" fill="#888">Breadth-first stage execution</text>
  
  <rect x="485" y="445" width="195" height="58" rx="4" fill="rgba(0,0,0,0.4)" stroke="rgba(201,162,39,0.5)"/>
  <text x="582" y="468" text-anchor="middle" font-family="Consolas, monospace" font-size="9" font-weight="600" fill="#e8e8e8">GazetteerPriorityScheduler</text>
  <text x="582" y="485" text-anchor="middle" font-family="Consolas, monospace" font-size="8" fill="#888">Priority ordering + Completion</text>
  
  <rect x="695" y="445" width="190" height="58" rx="4" fill="rgba(0,0,0,0.4)" stroke="rgba(201,162,39,0.5)"/>
  <text x="790" y="468" text-anchor="middle" font-family="Consolas, monospace" font-size="10" font-weight="600" fill="#e8e8e8">GazetteerPlanRunner</text>
  <text x="790" y="485" text-anchor="middle" font-family="Consolas, monospace" font-size="8" fill="#888">Advanced + Meta-planning</text>
  
  <!-- Mode Controller -->
  <rect x="920" y="405" width="430" height="110" rx="8" fill="rgba(90,61,138,0.15)" stroke="rgba(90,61,138,0.5)" stroke-width="1"/>
  <text x="1135" y="428" text-anchor="middle" font-family="Segoe UI, Arial" font-size="11" font-weight="600" fill="#a78bfa" letter-spacing="1">MODE CONTROLLER</text>
  
  <rect x="940" y="445" width="195" height="58" rx="4" fill="rgba(0,0,0,0.4)" stroke="rgba(102,16,242,0.5)"/>
  <text x="1037" y="468" text-anchor="middle" font-family="Consolas, monospace" font-size="9" font-weight="600" fill="#e8e8e8">GazetteerModeController</text>
  <text x="1037" y="485" text-anchor="middle" font-family="Consolas, monospace" font-size="8" fill="#888">Telemetry + State tracking</text>
  
  <rect x="1150" y="445" width="185" height="58" rx="4" fill="rgba(0,0,0,0.4)" stroke="rgba(102,16,242,0.5)"/>
  <text x="1242" y="468" text-anchor="middle" font-family="Consolas, monospace" font-size="9" font-weight="600" fill="#e8e8e8">GazetteerIngestionCoord</text>
  <text x="1242" y="485" text-anchor="middle" font-family="Consolas, monospace" font-size="8" fill="#888">Coordinator wrapper</text>
  
  <!-- Database Layer -->
  <rect x="50" y="535" width="1300" height="185" rx="8" fill="rgba(25,135,84,0.1)" stroke="rgba(25,135,84,0.4)" stroke-width="1"/>
  <rect x="50" y="535" width="1300" height="28" rx="8" fill="rgba(25,135,84,0.2)"/>
  <text x="700" y="555" text-anchor="middle" font-family="Segoe UI, Arial" font-size="14" font-weight="600" fill="#4ade80" letter-spacing="2" filter="url(#softGlow)">GAZETTEER.DB (SQLite)</text>
  
  <rect x="65" y="575" width="195" height="135" rx="4" fill="rgba(0,0,0,0.4)" stroke="rgba(42,90,138,0.6)"/>
  <rect x="65" y="575" width="195" height="22" rx="4" fill="url(#wikidataGrad)"/>
  <text x="162" y="590" text-anchor="middle" font-family="Consolas, monospace" font-size="10" font-weight="600" fill="#e8e8e8">geonames</text>
  <text x="75" y="612" font-family="Consolas, monospace" font-size="9" fill="#c9a227">geoname_id</text>
  <text x="165" y="612" font-family="Consolas, monospace" font-size="9" fill="#888">INTEGER PK</text>
  <text x="75" y="627" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">name, ascii_name</text>
  <text x="75" y="642" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">latitude, longitude</text>
  <text x="75" y="657" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">feature_class/code</text>
  <text x="75" y="672" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">country_code, admin1</text>
  <text x="75" y="687" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">population</text>
  <text x="162" y="705" text-anchor="middle" font-family="Consolas, monospace" font-size="8" fill="#4ade80">5.2M rows</text>
  
  <rect x="275" y="575" width="195" height="135" rx="4" fill="rgba(0,0,0,0.4)" stroke="rgba(42,90,138,0.6)"/>
  <rect x="275" y="575" width="195" height="22" rx="4" fill="url(#wikidataGrad)"/>
  <text x="372" y="590" text-anchor="middle" font-family="Consolas, monospace" font-size="10" font-weight="600" fill="#e8e8e8">alternate_names</text>
  <text x="285" y="612" font-family="Consolas, monospace" font-size="9" fill="#c9a227">alternate_id</text>
  <text x="375" y="612" font-family="Consolas, monospace" font-size="9" fill="#888">INTEGER PK</text>
  <text x="285" y="627" font-family="Consolas, monospace" font-size="9" fill="#ff9800">geoname_id</text>
  <text x="375" y="627" font-family="Consolas, monospace" font-size="9" fill="#888">FK</text>
  <text x="285" y="642" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">iso_language</text>
  <text x="285" y="657" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">alternate_name</text>
  <text x="285" y="672" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">is_preferred, is_short</text>
  <text x="372" y="705" text-anchor="middle" font-family="Consolas, monospace" font-size="8" fill="#4ade80">15M rows - Multi-language</text>
  
  <rect x="485" y="575" width="195" height="135" rx="4" fill="rgba(0,0,0,0.4)" stroke="rgba(102,16,242,0.6)"/>
  <rect x="485" y="575" width="195" height="22" rx="4" fill="url(#hierGrad)"/>
  <text x="582" y="590" text-anchor="middle" font-family="Consolas, monospace" font-size="10" font-weight="600" fill="#e8e8e8">admin1_codes</text>
  <text x="495" y="612" font-family="Consolas, monospace" font-size="9" fill="#c9a227">code</text>
  <text x="540" y="612" font-family="Consolas, monospace" font-size="9" fill="#888">TEXT PK</text>
  <text x="495" y="627" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">name, ascii_name</text>
  <text x="495" y="642" font-family="Consolas, monospace" font-size="9" fill="#ff9800">geoname_id</text>
  <text x="585" y="642" font-family="Consolas, monospace" font-size="9" fill="#888">FK</text>
  <text x="582" y="705" text-anchor="middle" font-family="Consolas, monospace" font-size="8" fill="#a78bfa">States/Provinces</text>
  
  <rect x="695" y="575" width="195" height="135" rx="4" fill="rgba(0,0,0,0.4)" stroke="rgba(102,16,242,0.6)"/>
  <rect x="695" y="575" width="195" height="22" rx="4" fill="url(#hierGrad)"/>
  <text x="792" y="590" text-anchor="middle" font-family="Consolas, monospace" font-size="10" font-weight="600" fill="#e8e8e8">country_info</text>
  <text x="705" y="612" font-family="Consolas, monospace" font-size="9" fill="#c9a227">iso</text>
  <text x="735" y="612" font-family="Consolas, monospace" font-size="9" fill="#888">TEXT PK</text>
  <text x="705" y="627" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">iso3, iso_numeric</text>
  <text x="705" y="642" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">country, capital</text>
  <text x="705" y="657" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">continent, currency</text>
  <text x="792" y="705" text-anchor="middle" font-family="Consolas, monospace" font-size="8" fill="#a78bfa">252 countries</text>
  
  <rect x="905" y="575" width="195" height="135" rx="4" fill="rgba(0,0,0,0.4)" stroke="rgba(214,51,132,0.6)"/>
  <rect x="905" y="575" width="195" height="22" rx="4" fill="url(#ftsGrad)"/>
  <text x="1002" y="590" text-anchor="middle" font-family="Consolas, monospace" font-size="10" font-weight="600" fill="#e8e8e8">geonames_fts</text>
  <text x="915" y="612" font-family="Consolas, monospace" font-size="9" fill="#f472b6">FTS5 Virtual Table</text>
  <text x="915" y="632" font-family="Consolas, monospace" font-size="8" fill="#888">Full-text search on:</text>
  <text x="915" y="647" font-family="Consolas, monospace" font-size="8" fill="#888">name, ascii_name</text>
  <text x="915" y="662" font-family="Consolas, monospace" font-size="8" fill="#888">alternate_names</text>
  <text x="1002" y="705" text-anchor="middle" font-family="Consolas, monospace" font-size="8" fill="#f472b6">~2ms prefix lookups</text>
  
  <rect x="1115" y="575" width="220" height="135" rx="4" fill="rgba(0,0,0,0.4)" stroke="rgba(25,135,84,0.6)"/>
  <rect x="1115" y="575" width="220" height="22" rx="4" fill="url(#osmGrad)"/>
  <text x="1225" y="590" text-anchor="middle" font-family="Consolas, monospace" font-size="10" font-weight="600" fill="#e8e8e8">place_boundaries</text>
  <text x="1125" y="612" font-family="Consolas, monospace" font-size="9" fill="#c9a227">id</text>
  <text x="1145" y="612" font-family="Consolas, monospace" font-size="9" fill="#888">INTEGER PK</text>
  <text x="1125" y="627" font-family="Consolas, monospace" font-size="9" fill="#ff9800">geoname_id</text>
  <text x="1215" y="627" font-family="Consolas, monospace" font-size="9" fill="#888">FK</text>
  <text x="1125" y="642" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">osm_relation_id</text>
  <text x="1125" y="657" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">geojson</text>
  <text x="1125" y="672" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">boundary_type</text>
  <text x="1225" y="705" text-anchor="middle" font-family="Consolas, monospace" font-size="8" fill="#4ade80">OSM Polygon Boundaries</text>
  
  <!-- Query Layer -->
  <rect x="50" y="740" width="1300" height="80" rx="8" fill="rgba(90,61,138,0.15)" stroke="rgba(90,61,138,0.4)" stroke-width="1"/>
  <text x="700" y="765" text-anchor="middle" font-family="Segoe UI, Arial" font-size="11" font-weight="600" fill="#a78bfa" letter-spacing="1">QUERY INTERFACE (src/data/db/sqlite/v1/queries)</text>
  
  <rect x="70" y="780" width="170" height="30" rx="4" fill="rgba(0,0,0,0.4)" stroke="rgba(102,16,242,0.4)"/>
  <text x="155" y="800" text-anchor="middle" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">gazetteer.read.js</text>
  
  <rect x="255" y="780" width="170" height="30" rx="4" fill="rgba(0,0,0,0.4)" stroke="rgba(102,16,242,0.4)"/>
  <text x="340" y="800" text-anchor="middle" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">gazetteer.ingest.js</text>
  
  <rect x="440" y="780" width="170" height="30" rx="4" fill="rgba(0,0,0,0.4)" stroke="rgba(102,16,242,0.4)"/>
  <text x="525" y="800" text-anchor="middle" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">geographyQueries.js</text>
  
  <rect x="625" y="780" width="170" height="30" rx="4" fill="rgba(0,0,0,0.4)" stroke="rgba(102,16,242,0.4)"/>
  <text x="710" y="800" text-anchor="middle" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">alternateNames.js</text>
  
  <rect x="810" y="780" width="170" height="30" rx="4" fill="rgba(0,0,0,0.4)" stroke="rgba(102,16,242,0.4)"/>
  <text x="895" y="800" text-anchor="middle" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">countryQueries.js</text>
  
  <rect x="995" y="780" width="170" height="30" rx="4" fill="rgba(0,0,0,0.4)" stroke="rgba(102,16,242,0.4)"/>
  <text x="1080" y="800" text-anchor="middle" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">boundaryQueries.js</text>
  
  <rect x="1180" y="780" width="155" height="30" rx="4" fill="rgba(0,0,0,0.4)" stroke="rgba(102,16,242,0.4)"/>
  <text x="1257" y="800" text-anchor="middle" font-family="Consolas, monospace" font-size="9" fill="#e8e8e8">ftsQueries.js</text>
  
  <!-- Cross-DB bridge note -->
  <rect x="280" y="840" width="840" height="45" rx="6" fill="rgba(0,0,0,0.5)" stroke="url(#goldGrad)" stroke-width="2"/>
  <text x="700" y="860" text-anchor="middle" font-family="Segoe UI, Arial" font-size="11" font-weight="600" fill="#c9a227" letter-spacing="1">CROSS-DATABASE JOIN: news.db page_places.geoname_id â†’ gazetteer.db geonames.geoname_id</text>
  <text x="700" y="877" text-anchor="middle" font-family="Consolas, monospace" font-size="9" fill="#888">ATTACH DATABASE 'data/gazetteer.db' AS geo; SELECT * FROM pages JOIN geo.geonames ON ...</text>
  
  <!-- Footer metrics -->
  <line x1="100" y1="905" x2="1300" y2="905" stroke="rgba(201,162,39,0.3)" stroke-width="1"/>
  <text x="700" y="930" text-anchor="middle" font-family="Segoe UI, Arial" font-size="10" fill="#888" letter-spacing="1">5.2M GEONAMES + 15M ALTERNATE NAMES + 252 COUNTRIES | FTS5 ~2MS LOOKUPS | READ-ONLY IN PRODUCTION</text>
  
  <!-- Legend -->
  <rect x="50" y="945" width="620" height="40" rx="4" fill="rgba(0,0,0,0.3)" stroke="rgba(255,255,255,0.1)"/>
  <text x="70" y="968" font-family="Segoe UI, Arial" font-size="9" fill="#888">Data Sources:</text>
  <rect x="145" y="960" width="10" height="10" fill="#6fa8dc"/>
  <text x="160" y="969" font-family="Segoe UI, Arial" font-size="8" fill="#888">Wikidata</text>
  <rect x="220" y="960" width="10" height="10" fill="#4ade80"/>
  <text x="235" y="969" font-family="Segoe UI, Arial" font-size="8" fill="#888">OSM</text>
  <rect x="275" y="960" width="10" height="10" fill="#c9a227"/>
  <text x="290" y="969" font-family="Segoe UI, Arial" font-size="8" fill="#888">GeoNames</text>
  <rect x="360" y="960" width="10" height="10" fill="#a78bfa"/>
  <text x="375" y="969" font-family="Segoe UI, Arial" font-size="8" fill="#888">Hierarchy</text>
  <rect x="435" y="960" width="10" height="10" fill="#f472b6"/>
  <text x="450" y="969" font-family="Segoe UI, Arial" font-size="8" fill="#888">FTS</text>
  <rect x="490" y="960" width="10" height="10" fill="#22d3ee"/>
  <text x="505" y="969" font-family="Segoe UI, Arial" font-size="8" fill="#888">Cache</text>
  <rect x="555" y="960" width="10" height="10" fill="#e8e8e8"/>
  <text x="570" y="969" font-family="Segoe UI, Arial" font-size="8" fill="#888">Orchestration</text>
  
</svg>