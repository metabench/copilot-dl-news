<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 900">
  <!-- Definitions -->
  <defs>
    <!-- Leather Background Gradient -->
    <linearGradient id="leatherGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#faf9f7;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#ebe8e2;stop-opacity:1" />
    </linearGradient>
    
    <!-- Obsidian Panel Gradient -->
    <linearGradient id="obsidianGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#2d2d2d;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1a1a1a;stop-opacity:1" />
    </linearGradient>

    <!-- Soft Shadow -->
    <filter id="softShadow" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur in="SourceAlpha" stdDev="3" result="blur"/>
      <feOffset in="blur" dx="2" dy="2" result="offsetBlur"/>
      <feComponentTransfer>
        <feFuncA type="linear" slope="0.3"/>
      </feComponentTransfer>
      <feMerge>
        <feMergeNode in="offsetBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>

    <!-- Arrow Marker -->
    <marker id="arrowGold" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#c9a962" />
    </marker>
  </defs>

  <!-- Background -->
  <rect width="100%" height="100%" fill="url(#leatherGrad)" />
  
  <!-- Title -->
  <text x="600" y="50" text-anchor="middle" font-family="Georgia, serif" font-size="32" fill="#2d2d2d" font-weight="bold">News DB Schema (v1 Normalized)</text>
  <line x1="400" y1="65" x2="800" y2="65" stroke="#c9a962" stroke-width="2" />

  <!-- Domain 1: URL & Content Pipeline (Top Left) -->
  <g transform="translate(50, 100)">
    <rect width="500" height="350" rx="8" fill="url(#obsidianGrad)" stroke="#c9a962" stroke-width="1" filter="url(#softShadow)" />
    <text x="20" y="35" font-family="Georgia, serif" font-size="20" fill="#e8d5a3" font-weight="bold">1. URL &amp; Content Pipeline</text>
    <line x1="20" y1="45" x2="480" y2="45" stroke="#c9a962" stroke-width="0.5" />
    
    <!-- Tables -->
    <g transform="translate(20, 70)" font-family="Arial, sans-serif" font-size="14" fill="#ffffff">
      <text x="0" y="0" font-weight="bold">urls</text>
      <text x="20" y="20" fill="#cccccc" font-size="12">id, url, host, canonical_url</text>
      
      <text x="0" y="60" font-weight="bold">http_responses</text>
      <text x="20" y="80" fill="#cccccc" font-size="12">id, url_id (FK), status, headers</text>
      
      <text x="0" y="120" font-weight="bold">content_storage</text>
      <text x="20" y="140" fill="#cccccc" font-size="12">id, http_response_id (FK), blob</text>
      
      <text x="0" y="180" font-weight="bold">content_analysis</text>
      <text x="20" y="200" fill="#cccccc" font-size="12">id, content_id (FK), classification</text>
      
      <text x="250" y="0" font-weight="bold">links</text>
      <text x="270" y="20" fill="#cccccc" font-size="12">src_url_id, dst_url_id</text>
      
      <text x="250" y="60" font-weight="bold">discovery_events</text>
      <text x="270" y="80" fill="#cccccc" font-size="12">url_id, referrer, depth</text>
    </g>
  </g>

  <!-- Domain 2: Crawl Orchestration (Top Right) -->
  <g transform="translate(650, 100)">
    <rect width="500" height="350" rx="8" fill="url(#obsidianGrad)" stroke="#c9a962" stroke-width="1" filter="url(#softShadow)" />
    <text x="20" y="35" font-family="Georgia, serif" font-size="20" fill="#e8d5a3" font-weight="bold">2. Crawl Orchestration</text>
    <line x1="20" y1="45" x2="480" y2="45" stroke="#c9a962" stroke-width="0.5" />
    
    <!-- Tables -->
    <g transform="translate(20, 70)" font-family="Arial, sans-serif" font-size="14" fill="#ffffff">
      <text x="0" y="0" font-weight="bold">crawl_jobs</text>
      <text x="20" y="20" fill="#cccccc" font-size="12">id, status, type, args</text>
      
      <text x="0" y="60" font-weight="bold">queue_events</text>
      <text x="20" y="80" fill="#cccccc" font-size="12">job_id (FK), action, url</text>
      
      <text x="0" y="120" font-weight="bold">background_tasks</text>
      <text x="20" y="140" fill="#cccccc" font-size="12">id, type, status, progress</text>
      
      <text x="250" y="0" font-weight="bold">analysis_runs</text>
      <text x="270" y="20" fill="#cccccc" font-size="12">id, background_task_id</text>
      
      <text x="250" y="60" font-weight="bold">planner_patterns</text>
      <text x="270" y="80" fill="#cccccc" font-size="12">domain, regex, score</text>
    </g>
  </g>

  <!-- Domain 3: Gazetteer (Bottom Left) -->
  <g transform="translate(50, 500)">
    <rect width="500" height="350" rx="8" fill="url(#obsidianGrad)" stroke="#c9a962" stroke-width="1" filter="url(#softShadow)" />
    <text x="20" y="35" font-family="Georgia, serif" font-size="20" fill="#e8d5a3" font-weight="bold">3. Gazetteer &amp; Places</text>
    <line x1="20" y1="45" x2="480" y2="45" stroke="#c9a962" stroke-width="0.5" />
    
    <!-- Tables -->
    <g transform="translate(20, 70)" font-family="Arial, sans-serif" font-size="14" fill="#ffffff">
      <text x="0" y="0" font-weight="bold">places</text>
      <text x="20" y="20" fill="#cccccc" font-size="12">id, kind, country_code, lat/lng</text>
      
      <text x="0" y="60" font-weight="bold">place_names</text>
      <text x="20" y="80" fill="#cccccc" font-size="12">place_id (FK), name, lang</text>
      
      <text x="0" y="120" font-weight="bold">place_hierarchy</text>
      <text x="20" y="140" fill="#cccccc" font-size="12">parent_id, child_id, relation</text>
      
      <text x="250" y="0" font-weight="bold">place_hubs</text>
      <text x="270" y="20" fill="#cccccc" font-size="12">host, place_slug, url_id</text>
      
      <text x="250" y="60" font-weight="bold">article_places</text>
      <text x="270" y="80" fill="#cccccc" font-size="12">article_url_id, place</text>
    </g>
  </g>

  <!-- Domain 4: Compression (Bottom Right) -->
  <g transform="translate(650, 500)">
    <rect width="500" height="350" rx="8" fill="url(#obsidianGrad)" stroke="#c9a962" stroke-width="1" filter="url(#softShadow)" />
    <text x="20" y="35" font-family="Georgia, serif" font-size="20" fill="#e8d5a3" font-weight="bold">4. Compression &amp; Storage</text>
    <line x1="20" y1="45" x2="480" y2="45" stroke="#c9a962" stroke-width="0.5" />
    
    <!-- Tables -->
    <g transform="translate(20, 70)" font-family="Arial, sans-serif" font-size="14" fill="#ffffff">
      <text x="0" y="0" font-weight="bold">compression_buckets</text>
      <text x="20" y="20" fill="#cccccc" font-size="12">id, type, blob</text>
      
      <text x="0" y="60" font-weight="bold">bucket_entries</text>
      <text x="20" y="80" fill="#cccccc" font-size="12">bucket_id (FK), key, offset</text>
      
      <text x="0" y="120" font-weight="bold">compression_types</text>
      <text x="20" y="140" fill="#cccccc" font-size="12">id, algorithm, level</text>
      
      <text x="250" y="0" font-weight="bold">news_websites</text>
      <text x="270" y="20" fill="#cccccc" font-size="12">url, type, metadata</text>
    </g>
  </g>

  <!-- Connections (Gold Lines) -->
  <g stroke="#c9a962" stroke-width="2" fill="none" marker-end="url(#arrowGold)">
    <!-- Crawl Jobs -> URLs -->
    <path d="M 650 170 L 550 170" />
    
    <!-- Content Storage -> Compression Buckets -->
    <path d="M 300 450 L 300 475 L 700 475 L 700 500" stroke-dasharray="5,5" />
    
    <!-- Article Places -> Places -->
    <path d="M 300 650 L 250 650" />
    
    <!-- Place Hubs -> URLs -->
    <path d="M 550 570 L 600 570 L 600 200 L 550 200" stroke-dasharray="5,5" opacity="0.6" />
  </g>

  <!-- Legend/Footer -->
  <text x="600" y="880" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#666666">Generated 2025-12-14 • WLILO Style • Copilot Agent</text>

</svg>
