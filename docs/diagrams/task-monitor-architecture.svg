<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 520">
  <!-- Task Monitor Architecture - WLILO Industrial Luxury Theme -->
  
  <defs>
    <!-- Background gradient -->
    <linearGradient id="bgGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#0a0a0f"/>
      <stop offset="100%" style="stop-color:#1a1a2e"/>
    </linearGradient>
    
    <!-- Gold accent gradient -->
    <linearGradient id="goldGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#8b7320"/>
      <stop offset="50%" style="stop-color:#c9a227"/>
      <stop offset="100%" style="stop-color:#8b7320"/>
    </linearGradient>
    
    <!-- Blue gradient (main process) -->
    <linearGradient id="blueGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:rgba(58,122,176,0.15)"/>
      <stop offset="100%" style="stop-color:rgba(58,122,176,0.05)"/>
    </linearGradient>
    
    <!-- Orange gradient (renderer process) -->
    <linearGradient id="orangeGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:rgba(201,162,39,0.15)"/>
      <stop offset="100%" style="stop-color:rgba(201,162,39,0.05)"/>
    </linearGradient>
    
    <!-- Glow filter -->
    <filter id="glow" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur stdDeviation="2" result="blur"/>
      <feMerge>
        <feMergeNode in="blur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    
    <!-- Arrow marker gold -->
    <marker id="arrowGold" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <path d="M0,0 L0,6 L9,3 z" fill="#c9a227"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="100%" height="100%" fill="url(#bgGrad)"/>
  
  <!-- Corner accents -->
  <path d="M 20 8 L 20 20 L 8 20" stroke="#c9a227" stroke-width="2" fill="none"/>
  <path d="M 780 8 L 780 20 L 792 20" stroke="#c9a227" stroke-width="2" fill="none"/>
  <path d="M 20 512 L 20 500 L 8 500" stroke="#c9a227" stroke-width="2" fill="none"/>
  <path d="M 780 512 L 780 500 L 792 500" stroke="#c9a227" stroke-width="2" fill="none"/>
  
  <!-- Title -->
  <text x="400" y="35" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="20" font-weight="600" fill="#e8e8e8" letter-spacing="2px">TASK MONITOR ARCHITECTURE</text>
  <text x="400" y="55" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="11" fill="#888" letter-spacing="1px">Electron App for Background Task Progress</text>
  
  <!-- Main Process Section -->
  <rect x="40" y="80" width="320" height="360" rx="8" fill="url(#blueGrad)" stroke="#3a7ab0" stroke-width="1.5"/>
  <text x="200" y="105" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="13" font-weight="600" fill="#66aaff" letter-spacing="1px">MAIN PROCESS</text>
  <line x1="60" y1="115" x2="340" y2="115" stroke="rgba(102,170,255,0.3)" stroke-width="1"/>
  
  <!-- TaskManager -->
  <rect x="60" y="130" width="280" height="80" rx="6" fill="rgba(255,255,255,0.03)" stroke="rgba(102,170,255,0.4)" stroke-width="1"/>
  <text x="200" y="155" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="13" font-weight="600" fill="#e8e8e8">TaskManager</text>
  <text x="200" y="175" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="10" fill="#888">• Coordinates multiple tasks</text>
  <text x="200" y="190" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="10" fill="#888">• Emits aggregated updates</text>
  
  <!-- BackgroundTask -->
  <rect x="60" y="230" width="130" height="80" rx="6" fill="rgba(255,255,255,0.03)" stroke="rgba(201,162,39,0.4)" stroke-width="1"/>
  <text x="125" y="255" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="12" font-weight="500" fill="#c9a227">BackgroundTask</text>
  <text x="125" y="275" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="9" fill="#888">Abstract base class</text>
  <text x="125" y="290" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="9" fill="#888">start/pause/cancel</text>
  
  <!-- ClassificationBackfillTask -->
  <rect x="210" y="230" width="130" height="80" rx="6" fill="rgba(255,255,255,0.03)" stroke="rgba(58,160,80,0.4)" stroke-width="1"/>
  <text x="275" y="250" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="10" font-weight="500" fill="#66cc77">Classification</text>
  <text x="275" y="265" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="10" font-weight="500" fill="#66cc77">BackfillTask</text>
  <text x="275" y="285" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="9" fill="#888">URL reclassify</text>
  <text x="275" y="300" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="9" fill="#888">Decision tree</text>
  
  <!-- Extends arrow -->
  <path d="M 175 270 L 210 270" stroke="rgba(201,162,39,0.5)" stroke-width="1" stroke-dasharray="3,3" fill="none"/>
  <text x="192" y="263" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="8" fill="#666">extends</text>
  
  <!-- IPC Handlers -->
  <rect x="60" y="330" width="280" height="90" rx="6" fill="rgba(255,255,255,0.03)" stroke="rgba(102,170,255,0.4)" stroke-width="1"/>
  <text x="200" y="355" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="13" font-weight="600" fill="#e8e8e8">IPC Handlers</text>
  <text x="200" y="375" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="9" fill="#888" font-family="Consolas, monospace">tasks:getAll • tasks:startBackfill</text>
  <text x="200" y="390" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="9" fill="#888" font-family="Consolas, monospace">tasks:pause • tasks:resume</text>
  <text x="200" y="405" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="9" fill="#888" font-family="Consolas, monospace">tasks:cancel • tasks:getTypes</text>
  
  <!-- Renderer Process Section -->
  <rect x="440" y="80" width="320" height="360" rx="8" fill="url(#orangeGrad)" stroke="#c9a227" stroke-width="1.5"/>
  <text x="600" y="105" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="13" font-weight="600" fill="#c9a227" letter-spacing="1px">RENDERER PROCESS</text>
  <line x1="460" y1="115" x2="740" y2="115" stroke="rgba(201,162,39,0.3)" stroke-width="1"/>
  
  <!-- Preload -->
  <rect x="460" y="130" width="280" height="60" rx="6" fill="rgba(255,255,255,0.03)" stroke="rgba(201,162,39,0.4)" stroke-width="1"/>
  <text x="600" y="155" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="12" font-weight="500" fill="#c9a227">preload.js (contextBridge)</text>
  <text x="600" y="175" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="10" fill="#888">Exposes taskAPI to renderer</text>
  
  <!-- UI Components -->
  <rect x="460" y="210" width="280" height="110" rx="6" fill="rgba(255,255,255,0.03)" stroke="rgba(201,162,39,0.4)" stroke-width="1"/>
  <text x="600" y="235" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="13" font-weight="600" fill="#e8e8e8">UI Components</text>
  <text x="600" y="258" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="10" fill="#888">• Task type selector buttons</text>
  <text x="600" y="275" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="10" fill="#888">• Progress bars with ETA</text>
  <text x="600" y="292" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="10" fill="#888">• Pause/Resume/Cancel controls</text>
  <text x="600" y="309" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="10" fill="#888">• Completed tasks history</text>
  
  <!-- WLILO Theme -->
  <rect x="460" y="340" width="280" height="80" rx="6" fill="rgba(255,255,255,0.03)" stroke="rgba(201,162,39,0.4)" stroke-width="1"/>
  <text x="600" y="365" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="13" font-weight="600" fill="#c9a227" filter="url(#glow)">WLILO Theme</text>
  <text x="600" y="385" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="10" fill="#888">Industrial Luxury Obsidian</text>
  <text x="600" y="402" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="10" fill="#888">Gold accents • Dark background</text>
  
  <!-- IPC Arrows -->
  <path d="M 360 160 L 440 160" stroke="#c9a227" stroke-width="2" fill="none" marker-end="url(#arrowGold)"/>
  <text x="400" y="152" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="9" fill="#c9a227">tasks:update</text>
  
  <path d="M 440 375 L 360 375" stroke="#c9a227" stroke-width="2" fill="none" marker-end="url(#arrowGold)"/>
  <text x="400" y="390" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="9" fill="#c9a227">ipcRenderer.invoke</text>
  
  <!-- Event flow arrows (within main process) -->
  <path d="M 200 210 L 200 230" stroke="rgba(102,170,255,0.5)" stroke-width="1.5" fill="none"/>
  <path d="M 200 310 L 200 330" stroke="rgba(102,170,255,0.5)" stroke-width="1.5" fill="none"/>
  
  <!-- Legend -->
  <rect x="40" y="460" width="720" height="45" rx="6" fill="rgba(255,255,255,0.03)" stroke="rgba(201,162,39,0.3)" stroke-width="1"/>
  <text x="60" y="480" font-family="Segoe UI, sans-serif" font-size="10" fill="#888">BackgroundTask: Abstract class with progress, pause/resume, and cancellation support</text>
  <text x="60" y="495" font-family="Segoe UI, sans-serif" font-size="10" fill="#888">TaskManager: Coordinates multiple tasks, throttles updates, maintains history</text>
</svg>
