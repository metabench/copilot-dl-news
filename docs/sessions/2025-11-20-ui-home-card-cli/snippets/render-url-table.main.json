"async function main() {\r\n  const args = parseArgs(process.argv.slice(2));\r\n  const dbPath = resolveDbPath(args.db);\r\n  const limit = Number.isFinite(args.limit) && args.limit > 0 ? Math.min(args.limit, 5000) : 1000;\r\n  const title = args.title || \"Crawler URL Snapshot\";\r\n  const db = openNewsDb(dbPath);\r\n  let rawRows = [];\r\n  let totals = null;\r\n  let homeCards = [];\r\n  try {\r\n    rawRows = selectInitialUrls(db.db, { limit });\r\n    totals = buildUrlTotals(db.db);\r\n    homeCards = buildCliHomeCards(db.db, totals);\r\n  } finally {\r\n    try {\r\n      db.close();\r\n    } catch (_) {}\r\n  }\r\n\r\n  const columns = buildColumns();\r\n  const rows = buildDisplayRows(rawRows);\r\n  const projectRoot = findProjectRoot(__dirname);\r\n  const relativeDb = path.relative(projectRoot, dbPath) || path.basename(dbPath);\r\n  const meta = {\r\n    rowCount: rows.length,\r\n    limit,\r\n    dbLabel: relativeDb,\r\n    generatedAt: formatDateTime(new Date(), true),\r\n    subtitle: `First ${rows.length} URLs from ${relativeDb}`\r\n  };\r\n\r\n  const html = renderHtml({ columns, rows, meta, title }, { homeCards });\r\n\r\n  if (args.output) {\r\n    const target = path.isAbsolute(args.output) ? args.output : path.resolve(process.cwd(), args.output);\r\n    fs.writeFileSync(target, html, \"utf8\");\r\n    console.error(`Saved HTML table to ${target}`);\r\n  } else {\r\n    process.stdout.write(html);\r\n  }\r\n}\r\n"