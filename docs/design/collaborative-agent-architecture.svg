<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1400 2200" style="background-color: #0f172a; font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;">
  <defs>
    <!-- Gradients -->
    <linearGradient id="headerGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#3b82f6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#6366f1;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="loopGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#1e293b;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#0f172a;stop-opacity:1" />
    </linearGradient>
    <filter id="glow">
      <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    <filter id="shadow">
      <feDropShadow dx="0" dy="8" stdDeviation="12" flood-color="#000" flood-opacity="0.4"/>
    </filter>
  </defs>

  <!-- Title Section -->
  <rect x="0" y="0" width="1400" height="150" fill="url(#headerGrad)"/>
  <text x="700" y="80" text-anchor="middle" fill="white" font-size="56" font-weight="bold">The Collaborative Agent Ecosystem</text>
  <text x="700" y="120" text-anchor="middle" fill="#e0e7ff" font-size="24">System Architecture â€¢ Activation Protocols â€¢ Dogfooding</text>

  <!-- PART 1: SYSTEM ARCHITECTURE (THE LOOP) -->
  <g transform="translate(100, 250)">
    <text x="600" y="-30" text-anchor="middle" fill="#94a3b8" font-size="32" font-weight="bold" letter-spacing="2">1. THE FEEDBACK LOOP</text>
    
    <!-- Large Circle Path -->
    <circle cx="600" cy="300" r="250" fill="none" stroke="#334155" stroke-width="4" stroke-dasharray="10 10"/>

    <!-- 1. Tablet (User) -->
    <g transform="translate(600, 50)">
      <circle cx="0" cy="0" r="60" fill="#3b82f6" stroke="white" stroke-width="3" filter="url(#shadow)"/>
      <text x="0" y="10" text-anchor="middle" font-size="40">ğŸ“±</text>
      <text x="0" y="-80" text-anchor="middle" fill="#60a5fa" font-size="20" font-weight="bold">USER (Tablet)</text>
      <rect x="80" y="-10" width="140" height="40" rx="4" fill="#1e293b" stroke="#3b82f6"/>
      <text x="150" y="15" text-anchor="middle" fill="#e2e8f0" font-size="14">Opens SVG</text>
    </g>

    <!-- Arrow 1 -->
    <path d="M650,70 Q800,100 850,200" fill="none" stroke="#60a5fa" stroke-width="4" marker-end="url(#arrowBlue)"/>

    <!-- 2. Remote Server -->
    <g transform="translate(850, 300)">
      <circle cx="0" cy="0" r="60" fill="#64748b" stroke="white" stroke-width="3" filter="url(#shadow)"/>
      <text x="0" y="10" text-anchor="middle" font-size="40">â˜ï¸</text>
      <text x="80" y="0" text-anchor="start" fill="#94a3b8" font-size="20" font-weight="bold">REMOTE</text>
      <text x="80" y="25" text-anchor="start" fill="#64748b" font-size="16">144.21.35.104</text>
      <rect x="80" y="40" width="140" height="40" rx="4" fill="#1e293b" stroke="#64748b"/>
      <text x="150" y="65" text-anchor="middle" fill="#e2e8f0" font-size="14">Saves & Broadcsts</text>
    </g>

    <!-- Arrow 2 -->
    <path d="M850,360 Q800,500 650,530" fill="none" stroke="#94a3b8" stroke-width="4" marker-end="url(#arrowGray)"/>

    <!-- 3. Bridge -->
    <g transform="translate(600, 550)">
      <circle cx="0" cy="0" r="60" fill="#10b981" stroke="white" stroke-width="3" filter="url(#shadow)"/>
      <text x="0" y="10" text-anchor="middle" font-size="40">ğŸŒ‰</text>
      <text x="0" y="90" text-anchor="middle" fill="#34d399" font-size="20" font-weight="bold">DOCS BRIDGE</text>
      <text x="0" y="115" text-anchor="middle" fill="#6ee7b7" font-size="16">(MCP Server)</text>
      <rect x="-160" y="-20" width="100" height="40" rx="4" fill="#1e293b" stroke="#10b981"/>
      <text x="-110" y="5" text-anchor="middle" fill="#e2e8f0" font-size="14">Listens (SSE)</text>
    </g>

    <!-- Arrow 3 -->
    <path d="M540,530 Q400,500 350,360" fill="none" stroke="#10b981" stroke-width="4" marker-end="url(#arrowGreen)"/>

    <!-- 4. Agent (Antigravity) -->
    <g transform="translate(350, 300)">
      <circle cx="0" cy="0" r="60" fill="#8b5cf6" stroke="white" stroke-width="3" filter="url(#shadow)"/>
      <text x="0" y="10" text-anchor="middle" font-size="40">ğŸ¤–</text>
      <text x="-80" y="0" text-anchor="end" fill="#a78bfa" font-size="20" font-weight="bold">AGENT</text>
      <text x="-80" y="25" text-anchor="end" fill="#c4b5fd" font-size="16">(Antigravity)</text>
      <rect x="-240" y="40" width="160" height="40" rx="4" fill="#1e293b" stroke="#8b5cf6"/>
      <text x="-160" y="65" text-anchor="middle" fill="#e2e8f0" font-size="14">Wakes Up & Acts</text>
    </g>

    <!-- Arrow 4 (Closing Loop) -->
    <path d="M350,240 Q400,100 540,70" fill="none" stroke="#8b5cf6" stroke-width="4" marker-end="url(#arrowPurple)"/>

  </g>

  <!-- PART 2: ACTIVATION PROTOCOLS -->
  <g transform="translate(100, 1000)">
    <text x="600" y="-30" text-anchor="middle" fill="#94a3b8" font-size="32" font-weight="bold" letter-spacing="2">2. ACTIVATION PROTOCOLS</text>

    <!-- Left: Pull (Legacy) -->
    <g transform="translate(0, 50)">
      <rect x="0" y="0" width="550" height="300" rx="12" fill="#1e293b" stroke="#475569" stroke-width="2"/>
      <text x="275" y="40" text-anchor="middle" fill="#cbd5e1" font-size="24" font-weight="bold">A. Legacy: The "Pull" Model</text>
      
      <!-- Diagram -->
      <g transform="translate(100, 100)">
        <!-- Human -->
        <text x="0" y="50" font-size="40">ğŸ‘¨â€ğŸ’»</text>
        <path d="M50,40 L150,40" stroke="#cbd5e1" stroke-width="3" marker-end="url(#arrowGray)"/>
        <text x="100" y="30" text-anchor="middle" fill="#94a3b8" font-size="14">"Run query"</text>
        
        <!-- Agent -->
        <text x="180" y="50" font-size="40">ğŸ¤–</text>
        
        <!-- Server -->
        <text x="300" y="50" font-size="40">â˜ï¸</text>
        
        <!-- Agent Polls Server -->
        <path d="M220,40 L270,40" stroke="#cbd5e1" stroke-width="3" marker-end="url(#arrowGray)"/>
        <text x="245" y="70" text-anchor="middle" fill="#94a3b8" font-size="12">Polls</text>
      </g>
      
      <text x="275" y="250" text-anchor="middle" fill="#94a3b8" font-size="16">Disadvantage: Agent is reactive only to User.</text>
    </g>

    <!-- Right: Push (MCP Sampling) -->
    <g transform="translate(650, 50)">
      <rect x="0" y="0" width="550" height="300" rx="12" fill="url(#loopGrad)" stroke="#10b981" stroke-width="2" filter="url(#shadow)"/>
      <text x="275" y="40" text-anchor="middle" fill="#34d399" font-size="24" font-weight="bold">B. Modern: Server-Initiated (MCP)</text>
      
      <!-- Diagram -->
      <g transform="translate(100, 100)">
        <!-- Server -->
        <text x="0" y="50" font-size="40">â˜ï¸</text>
        
        <!-- Push Event -->
        <path d="M50,40 L150,40" stroke="#10b981" stroke-width="4" marker-end="url(#arrowGreen)"/>
        <rect x="60" y="15" width="80" height="25" rx="4" fill="#064e3b" stroke="#10b981"/>
        <text x="100" y="32" text-anchor="middle" fill="#a7f3d0" font-size="12">sampling/</text>
        
        <!-- Agent -->
        <text x="180" y="50" font-size="60" filter="url(#glow)">ğŸ¤–âš¡</text>
        
        <!-- Action -->
        <path d="M250,40 L300,40" stroke="#8b5cf6" stroke-width="3" marker-end="url(#arrowPurple)"/>
        <text x="275" y="70" text-anchor="middle" fill="#a78bfa" font-size="12">ACTS</text>
      </g>
      
      <text x="275" y="250" text-anchor="middle" fill="#34d399" font-size="16">Advantage: Agent reacts to the ENVIRONMENT.</text>
    </g>
  </g>

  <!-- PART 3: DOGFOODING -->
  <g transform="translate(100, 1500)">
    <text x="600" y="-30" text-anchor="middle" fill="#94a3b8" font-size="32" font-weight="bold" letter-spacing="2">3. THE "DOGFOOD" PROTOCOL</text>
    <rect x="0" y="0" width="1200" height="300" rx="16" fill="#4c1d95" fill-opacity="0.1" stroke="#8b5cf6"/>

    <text x="600" y="50" text-anchor="middle" fill="#e0e7ff" font-size="24">Using the System to Build the System</text>

    <g transform="translate(150, 100)">
      <!-- Step 1 -->
      <g transform="translate(0,0)">
        <text x="50" y="50" font-size="40">ğŸ“</text>
        <text x="50" y="100" text-anchor="middle" fill="#a78bfa" font-weight="bold">1. Plan</text>
        <text x="50" y="125" text-anchor="middle" fill="#94a3b8" font-size="12">User comments on</text>
        <text x="50" y="140" text-anchor="middle" fill="#94a3b8" font-size="12">architecture SVG</text>
      </g>

      <path d="M120,60 L200,60" stroke="#64748b" stroke-width="2" marker-end="url(#arrowGray)"/>

      <!-- Step 2 -->
      <g transform="translate(250,0)">
        <text x="50" y="50" font-size="40">ğŸŒ‰</text>
        <text x="50" y="100" text-anchor="middle" fill="#a78bfa" font-weight="bold">2. Trigger</text>
        <text x="50" y="125" text-anchor="middle" fill="#94a3b8" font-size="12">Bridge wakes Agent</text>
      </g>

      <path d="M370,60 L450,60" stroke="#64748b" stroke-width="2" marker-end="url(#arrowGray)"/>

      <!-- Step 3 -->
      <g transform="translate(500,0)">
        <text x="50" y="50" font-size="40">ğŸ‘¨â€ğŸ¨</text>
        <text x="50" y="100" text-anchor="middle" fill="#a78bfa" font-weight="bold">3. Edit</text>
        <text x="50" y="125" text-anchor="middle" fill="#94a3b8" font-size="12">Agent edits the</text>
        <text x="50" y="140" text-anchor="middle" fill="#94a3b8" font-size="12">very same SVG</text>
      </g>

      <path d="M620,60 L700,60" stroke="#64748b" stroke-width="2" marker-end="url(#arrowGray)"/>

      <!-- Step 4 -->
      <g transform="translate(750,0)">
        <text x="50" y="50" font-size="40">âœ…</text>
        <text x="50" y="100" text-anchor="middle" fill="#a78bfa" font-weight="bold">4. Verify</text>
        <text x="50" y="125" text-anchor="middle" fill="#94a3b8" font-size="12">User sees update</text>
        <text x="50" y="140" text-anchor="middle" fill="#94a3b8" font-size="12">instantly</text>
      </g>
    </g>
  </g>

  <!-- Markers -->
  <defs>
    <marker id="arrowBlue" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#60a5fa" />
    </marker>
    <marker id="arrowGreen" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#10b981" />
    </marker>
    <marker id="arrowPurple" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#8b5cf6" />
    </marker>
    <marker id="arrowGray" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#64748b" />
    </marker>
  </defs>

</svg>
